{"version":3,"file":"v8n-1efe826f.js","sources":["../../node_modules/v8n/dist/v8n.esm.js"],"sourcesContent":["var Rule = function Rule(name, fn, args, modifiers) {\n  this.name = name;\n  this.fn = fn;\n  this.args = args;\n  this.modifiers = modifiers;\n};\n\nRule.prototype._test = function _test (value) {\n  var fn = this.fn;\n\n  try {\n    testAux(this.modifiers.slice(), fn, this)(value);\n  } catch (ex) {\n    fn = function () { return false; };\n  }\n\n  try {\n    return testAux(this.modifiers.slice(), fn, this)(value);\n  } catch (ex$1) {\n    return false;\n  }\n};\n\nRule.prototype._check = function _check (value) {\n  try {\n    testAux(this.modifiers.slice(), this.fn, this)(value);\n  } catch (ex) {\n    if (testAux(this.modifiers.slice(), function (it) { return it; }, this)(false)) {\n      return;\n    }\n  }\n\n  if (!testAux(this.modifiers.slice(), this.fn, this)(value)) {\n    throw null;\n  }\n};\n\nRule.prototype._testAsync = function _testAsync (value) {\n    var this$1 = this;\n\n  return new Promise(function (resolve, reject) {\n    testAsyncAux(\n      this$1.modifiers.slice(),\n      this$1.fn,\n      this$1\n    )(value)\n      .then(function (valid) {\n        if (valid) {\n          resolve(value);\n        } else {\n          reject(null);\n        }\n      })\n      .catch(function (ex) { return reject(ex); });\n  });\n};\n\nfunction pickFn(fn, variant) {\n  if ( variant === void 0 ) variant = 'simple';\n\n  return typeof fn === 'object' ? fn[variant] : fn;\n}\n\nfunction testAux(modifiers, fn, rule) {\n  if (modifiers.length) {\n    var modifier = modifiers.shift();\n    var nextFn = testAux(modifiers, fn, rule);\n    return modifier.perform(nextFn, rule);\n  } else {\n    return pickFn(fn);\n  }\n}\n\nfunction testAsyncAux(modifiers, fn, rule) {\n  if (modifiers.length) {\n    var modifier = modifiers.shift();\n    var nextFn = testAsyncAux(modifiers, fn, rule);\n    return modifier.performAsync(nextFn, rule);\n  } else {\n    return function (value) { return Promise.resolve(pickFn(fn, 'async')(value)); };\n  }\n}\n\nvar Modifier = function Modifier(name, perform, performAsync) {\n  this.name = name;\n  this.perform = perform;\n  this.performAsync = performAsync;\n};\n\nvar ValidationError = /*@__PURE__*/(function (Error) {\n  function ValidationError(rule, value, cause, target) {\n    var remaining = [], len = arguments.length - 4;\n    while ( len-- > 0 ) remaining[ len ] = arguments[ len + 4 ];\n\n    Error.call(this, remaining);\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, ValidationError);\n    }\n    this.rule = rule;\n    this.value = value;\n    this.cause = cause;\n    this.target = target;\n  }\n\n  if ( Error ) ValidationError.__proto__ = Error;\n  ValidationError.prototype = Object.create( Error && Error.prototype );\n  ValidationError.prototype.constructor = ValidationError;\n\n  return ValidationError;\n}(Error));\n\nvar Context = function Context(chain, nextRuleModifiers) {\n  if ( chain === void 0 ) chain = [];\n  if ( nextRuleModifiers === void 0 ) nextRuleModifiers = [];\n\n  this.chain = chain;\n  this.nextRuleModifiers = nextRuleModifiers;\n};\n\nContext.prototype._applyRule = function _applyRule (ruleFn, name) {\n    var this$1 = this;\n\n  return function () {\n      var args = [], len = arguments.length;\n      while ( len-- ) args[ len ] = arguments[ len ];\n\n    this$1.chain.push(\n      new Rule(name, ruleFn.apply(this$1, args), args, this$1.nextRuleModifiers)\n    );\n    this$1.nextRuleModifiers = [];\n    return this$1;\n  };\n};\n\nContext.prototype._applyModifier = function _applyModifier (modifier, name) {\n  this.nextRuleModifiers.push(\n    new Modifier(name, modifier.simple, modifier.async)\n  );\n  return this;\n};\n\nContext.prototype._clone = function _clone () {\n  return new Context(this.chain.slice(), this.nextRuleModifiers.slice());\n};\n\nContext.prototype.test = function test (value) {\n  return this.chain.every(function (rule) { return rule._test(value); });\n};\n\nContext.prototype.testAll = function testAll (value) {\n  var err = [];\n  this.chain.forEach(function (rule) {\n    try {\n      rule._check(value);\n    } catch (ex) {\n      err.push(new ValidationError(rule, value, ex));\n    }\n  });\n  return err;\n};\n\nContext.prototype.check = function check (value) {\n  this.chain.forEach(function (rule) {\n    try {\n      rule._check(value);\n    } catch (ex) {\n      throw new ValidationError(rule, value, ex);\n    }\n  });\n};\n\nContext.prototype.testAsync = function testAsync (value) {\n    var this$1 = this;\n\n  return new Promise(function (resolve, reject) {\n    executeAsyncRules(value, this$1.chain.slice(), resolve, reject);\n  });\n};\n\nfunction executeAsyncRules(value, rules, resolve, reject) {\n  if (rules.length) {\n    var rule = rules.shift();\n    rule._testAsync(value).then(\n      function () {\n        executeAsyncRules(value, rules, resolve, reject);\n      },\n      function (cause) {\n        reject(new ValidationError(rule, value, cause));\n      }\n    );\n  } else {\n    resolve(value);\n  }\n}\n\nvar consideredEmpty = function (value, considerTrimmedEmptyString) {\n  if (\n    considerTrimmedEmptyString &&\n    typeof value === 'string' &&\n    value.trim().length === 0\n  ) {\n    return true;\n  }\n\n  return value === undefined || value === null;\n};\n\nfunction optional (validation, considerTrimmedEmptyString) {\n  if ( considerTrimmedEmptyString === void 0 ) considerTrimmedEmptyString = false;\n\n  return ({\n  simple: function (value) { return consideredEmpty(value, considerTrimmedEmptyString) ||\n    validation.check(value) === undefined; },\n  async: function (value) { return consideredEmpty(value, considerTrimmedEmptyString) ||\n    validation.testAsync(value); },\n});\n}\n\nfunction v8n() {\n  return typeof Proxy !== 'undefined'\n    ? proxyContext(new Context())\n    : proxylessContext(new Context());\n}\n\n// Custom rules\nvar customRules = {};\n\nv8n.extend = function(newRules) {\n  Object.assign(customRules, newRules);\n};\n\nv8n.clearCustomRules = function() {\n  customRules = {};\n};\n\nfunction proxyContext(context) {\n  return new Proxy(context, {\n    get: function get(obj, prop) {\n      if (prop in obj) {\n        return obj[prop];\n      }\n\n      var newContext = proxyContext(context._clone());\n\n      if (prop in availableModifiers) {\n        return newContext._applyModifier(availableModifiers[prop], prop);\n      }\n      if (prop in customRules) {\n        return newContext._applyRule(customRules[prop], prop);\n      }\n      if (prop in availableRules) {\n        return newContext._applyRule(availableRules[prop], prop);\n      }\n    },\n  });\n}\n\nfunction proxylessContext(context) {\n  var addRuleSet = function (ruleSet, targetContext) {\n    Object.keys(ruleSet).forEach(function (prop) {\n      targetContext[prop] = function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var newContext = proxylessContext(targetContext._clone());\n        var contextWithRuleApplied = newContext._applyRule(\n          ruleSet[prop],\n          prop\n        ).apply(void 0, args);\n        return contextWithRuleApplied;\n      };\n    });\n    return targetContext;\n  };\n\n  var contextWithAvailableRules = addRuleSet(availableRules, context);\n  var contextWithAllRules = addRuleSet(\n    customRules,\n    contextWithAvailableRules\n  );\n\n  Object.keys(availableModifiers).forEach(function (prop) {\n    Object.defineProperty(contextWithAllRules, prop, {\n      get: function () {\n        var newContext = proxylessContext(contextWithAllRules._clone());\n        return newContext._applyModifier(availableModifiers[prop], prop);\n      },\n    });\n  });\n\n  return contextWithAllRules;\n}\n\nvar availableModifiers = {\n  not: {\n    simple: function (fn) { return function (value) { return !fn(value); }; },\n    async: function (fn) { return function (value) { return Promise.resolve(fn(value))\n        .then(function (result) { return !result; })\n        .catch(function () { return true; }); }; },\n  },\n\n  some: {\n    simple: function (fn) { return function (value) {\n      return split(value).some(function (item) {\n        try {\n          return fn(item);\n        } catch (ex) {\n          return false;\n        }\n      });\n    }; },\n    async: function (fn) { return function (value) {\n      return Promise.all(\n        split(value).map(function (item) {\n          try {\n            return fn(item).catch(function () { return false; });\n          } catch (ex) {\n            return false;\n          }\n        })\n      ).then(function (result) { return result.some(Boolean); });\n    }; },\n  },\n\n  every: {\n    simple: function (fn) { return function (value) { return value !== false && split(value).every(fn); }; },\n    async: function (fn) { return function (value) { return Promise.all(split(value).map(fn)).then(function (result) { return result.every(Boolean); }); }; },\n  },\n\n  strict: {\n    simple: function (fn, rule) { return function (value) {\n      if (isSchemaRule(rule) && value && typeof value === 'object') {\n        return (\n          Object.keys(rule.args[0]).length === Object.keys(value).length &&\n          fn(value)\n        );\n      }\n      return fn(value);\n    }; },\n    async: function (fn, rule) { return function (value) { return Promise.resolve(fn(value))\n        .then(function (result) {\n          if (isSchemaRule(rule) && value && typeof value === 'object') {\n            return (\n              Object.keys(rule.args[0]).length === Object.keys(value).length &&\n              result\n            );\n          }\n          return result;\n        })\n        .catch(function () { return false; }); }; },\n  },\n};\n\nfunction isSchemaRule(rule) {\n  return (\n    rule &&\n    rule.name === 'schema' &&\n    rule.args.length > 0 &&\n    typeof rule.args[0] === 'object'\n  );\n}\n\nfunction split(value) {\n  if (typeof value === 'string') {\n    return value.split('');\n  }\n  return value;\n}\n\nvar availableRules = {\n  // Value\n\n  equal: function (expected) { return function (value) { return value == expected; }; },\n\n  exact: function (expected) { return function (value) { return value === expected; }; },\n\n  // Types\n\n  number: function (allowInfinite) {\n    if ( allowInfinite === void 0 ) allowInfinite = true;\n\n    return function (value) { return typeof value === 'number' && (allowInfinite || isFinite(value)); };\n},\n\n  integer: function () { return function (value) {\n    var isInteger = Number.isInteger || isIntegerPolyfill;\n    return isInteger(value);\n  }; },\n\n  numeric: function () { return function (value) { return !isNaN(parseFloat(value)) && isFinite(value); }; },\n\n  string: function () { return testType('string'); },\n\n  boolean: function () { return testType('boolean'); },\n\n  undefined: function () { return testType('undefined'); },\n\n  null: function () { return testType('null'); },\n\n  array: function () { return testType('array'); },\n\n  object: function () { return testType('object'); },\n\n  instanceOf: function (instance) { return function (value) { return value instanceof instance; }; },\n\n  // Pattern\n\n  pattern: function (expected) { return function (value) { return expected.test(value); }; },\n\n  lowercase: function () { return function (value) {\n    return (\n      typeof value === 'boolean' ||\n      (value === value.toLowerCase() && value.trim() !== '')\n    );\n  }; },\n\n  uppercase: function () { return function (value) { return value === value.toUpperCase() && value.trim() !== ''; }; },\n\n  vowel: function () { return function (value) { return /^[aeiou]+$/i.test(value); }; },\n\n  consonant: function () { return function (value) { return /^(?=[^aeiou])([a-z]+)$/i.test(value); }; },\n\n  // Value at\n\n  first: function (expected) { return function (value) { return value[0] == expected; }; },\n\n  last: function (expected) { return function (value) { return value[value.length - 1] == expected; }; },\n\n  // Length\n\n  empty: function () { return function (value) { return value.length === 0; }; },\n\n  length: function (min, max) { return function (value) { return value.length >= min && value.length <= (max || min); }; },\n\n  minLength: function (min) { return function (value) { return value.length >= min; }; },\n\n  maxLength: function (max) { return function (value) { return value.length <= max; }; },\n\n  // Range\n\n  negative: function () { return function (value) { return value < 0; }; },\n\n  positive: function () { return function (value) { return value >= 0; }; },\n\n  between: function (a, b) { return function (value) { return value >= a && value <= b; }; },\n\n  range: function (a, b) { return function (value) { return value >= a && value <= b; }; },\n\n  lessThan: function (n) { return function (value) { return value < n; }; },\n\n  lessThanOrEqual: function (n) { return function (value) { return value <= n; }; },\n\n  greaterThan: function (n) { return function (value) { return value > n; }; },\n\n  greaterThanOrEqual: function (n) { return function (value) { return value >= n; }; },\n\n  // Divisible\n\n  even: function () { return function (value) { return value % 2 === 0; }; },\n\n  odd: function () { return function (value) { return value % 2 !== 0; }; },\n\n  includes: function (expected) { return function (value) { return ~value.indexOf(expected); }; },\n\n  schema: function (schema) { return testSchema(schema); },\n\n  // branching\n\n  passesAnyOf: function () {\n    var validations = [], len = arguments.length;\n    while ( len-- ) validations[ len ] = arguments[ len ];\n\n    return function (value) { return validations.some(function (validation) { return validation.test(value); }); };\n},\n\n  optional: optional,\n};\n\nfunction testType(expected) {\n  return function (value) {\n    return (\n      (Array.isArray(value) && expected === 'array') ||\n      (value === null && expected === 'null') ||\n      typeof value === expected\n    );\n  };\n}\n\nfunction isIntegerPolyfill(value) {\n  return (\n    typeof value === 'number' && isFinite(value) && Math.floor(value) === value\n  );\n}\n\nfunction testSchema(schema) {\n  return {\n    simple: function (value) {\n      var causes = [];\n      Object.keys(schema).forEach(function (key) {\n        var nestedValidation = schema[key];\n        try {\n          nestedValidation.check((value || {})[key]);\n        } catch (ex) {\n          ex.target = key;\n          causes.push(ex);\n        }\n      });\n      if (causes.length > 0) {\n        throw causes;\n      }\n      return true;\n    },\n    async: function (value) {\n      var causes = [];\n      var nested = Object.keys(schema).map(function (key) {\n        var nestedValidation = schema[key];\n        return nestedValidation.testAsync((value || {})[key]).catch(function (ex) {\n          ex.target = key;\n          causes.push(ex);\n        });\n      });\n      return Promise.all(nested).then(function () {\n        if (causes.length > 0) {\n          throw causes;\n        }\n\n        return true;\n      });\n    },\n  };\n}\n\nexport default v8n;\n"],"names":["Rule","name","fn","args","modifiers","value","testAux","it","this$1","resolve","reject","testAsyncAux","valid","ex","pickFn","variant","rule","modifier","nextFn","Modifier","perform","performAsync","ValidationError","Error","cause","target","remaining","len","Context","chain","nextRuleModifiers","ruleFn","err","executeAsyncRules","rules","consideredEmpty","considerTrimmedEmptyString","optional","validation","v8n","proxyContext","proxylessContext","customRules","newRules","context","obj","prop","newContext","availableModifiers","availableRules","addRuleSet","ruleSet","targetContext","contextWithRuleApplied","contextWithAvailableRules","contextWithAllRules","result","split","item","isSchemaRule","expected","allowInfinite","isInteger","isIntegerPolyfill","testType","instance","min","max","a","b","schema","testSchema","validations","causes","key","nestedValidation","nested"],"mappings":"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","x_google_ignoreList":[0]}