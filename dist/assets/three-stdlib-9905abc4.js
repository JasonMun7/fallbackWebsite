import{s as gn,t as Ct,u as Jt,p as Lt,I as Dn,r as Rn,D as yt,v as _t,w as Ot,x as Se,F as tt,C as be,y as Tn,z as Hn,G as Sn,J as je,K as Re,V as wt,Q as nt,d as _e,X as bn,Y as Nt,Z as Un,_ as Jn,$ as We,a0 as Ln,a1 as xe,a2 as xt,a3 as ht,a4 as yn,M as at,a5 as _n,a6 as Kt,a7 as On,B as Pt,a8 as wn,a9 as Nn,aa as xn,ab as Kn,ac as Pn,ad as At,P as kn,j as Qn,O as Xn,ae as Zn,af as kt,ag as Yn,ah as jn,ai as Qt,aj as Wn,ak as Vn,al as zn,am as qn,an as $n,ao as er,ap as tr,aq as nr,ar as rr,a as dt,as as sr,at as Rt,au as or,av as ir,aw as ar,ax as Ar,ay as Xt,H as De,az as we,aA as Oe,R as cr,aB as Br}from"./three-ddfced5c.js";import{u as $e}from"./fflate-dcdcf726.js";function Tt(p,t){if(t===gn)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),p;if(t===Ct||t===Jt){let n=p.getIndex();if(n===null){const s=[],c=p.getAttribute("position");if(c!==void 0){for(let A=0;A<c.count;A++)s.push(A);p.setIndex(s),n=p.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),p}const a=n.count-2,r=[];if(n)if(t===Ct)for(let s=1;s<=a;s++)r.push(n.getX(0)),r.push(n.getX(s)),r.push(n.getX(s+1));else for(let s=0;s<a;s++)s%2===0?(r.push(n.getX(s)),r.push(n.getX(s+1)),r.push(n.getX(s+2))):(r.push(n.getX(s+2)),r.push(n.getX(s+1)),r.push(n.getX(s)));r.length/3!==a&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const i=p.clone();return i.setIndex(r),i.clearGroups(),i}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),p}const lr=p=>p&&p.isCubeTexture;class Yr extends Lt{constructor(t,n){var a,r;const i=lr(t),c=((r=i?(a=t.image[0])==null?void 0:a.width:t.image.width)!=null?r:1024)/4,A=Math.floor(Math.log2(c)),l=Math.pow(2,A),u=3*Math.max(l,16*7),C=4*l,d=[i?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/C}`,`#define CUBEUV_MAX_MIP ${A}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,v=d.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(_t.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,H={map:{value:t},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},S=new Dn(1,16),b=new Rn({uniforms:H,fragmentShader:v,vertexShader:m,side:yt});super(S,b)}set radius(t){this.material.uniforms.radius.value=t}get radius(){return this.material.uniforms.radius.value}set height(t){this.material.uniforms.height.value=t}get height(){return this.material.uniforms.height.value}}class jr extends Ot{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new fr(n)}),this.register(function(n){return new vr(n)}),this.register(function(n){return new gr(n)}),this.register(function(n){return new Dr(n)}),this.register(function(n){return new pr(n)}),this.register(function(n){return new mr(n)}),this.register(function(n){return new Fr(n)}),this.register(function(n){return new Ir(n)}),this.register(function(n){return new dr(n)}),this.register(function(n){return new Gr(n)}),this.register(function(n){return new Er(n)}),this.register(function(n){return new Mr(n)}),this.register(function(n){return new Cr(n)}),this.register(function(n){return new Rr(n)}),this.register(function(n){return new Tr(n)})}load(t,n,a,r){const i=this;let s;this.resourcePath!==""?s=this.resourcePath:this.path!==""?s=this.path:s=Se.extractUrlBase(t),this.manager.itemStart(t);const c=function(l){r?r(l):console.error(l),i.manager.itemError(t),i.manager.itemEnd(t)},A=new tt(this.manager);A.setPath(this.path),A.setResponseType("arraybuffer"),A.setRequestHeader(this.requestHeader),A.setWithCredentials(this.withCredentials),A.load(t,function(l){try{i.parse(l,s,function(u){n(u),i.manager.itemEnd(t)},c)}catch(u){c(u)}},a,c)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,n,a,r){let i;const s={},c={};if(typeof t=="string")i=JSON.parse(t);else if(t instanceof ArrayBuffer)if(Se.decodeText(new Uint8Array(t.slice(0,4)))===Zt){try{s[Q.KHR_BINARY_GLTF]=new Hr(t)}catch(u){r&&r(u);return}i=JSON.parse(s[Q.KHR_BINARY_GLTF].content)}else i=JSON.parse(Se.decodeText(new Uint8Array(t)));else i=t;if(i.asset===void 0||i.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const A=new Pr(i,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});A.fileLoader.setRequestHeader(this.requestHeader);for(let l=0;l<this.pluginCallbacks.length;l++){const u=this.pluginCallbacks[l](A);c[u.name]=u,s[u.name]=!0}if(i.extensionsUsed)for(let l=0;l<i.extensionsUsed.length;++l){const u=i.extensionsUsed[l],C=i.extensionsRequired||[];switch(u){case Q.KHR_MATERIALS_UNLIT:s[u]=new hr;break;case Q.KHR_DRACO_MESH_COMPRESSION:s[u]=new Sr(i,this.dracoLoader);break;case Q.KHR_TEXTURE_TRANSFORM:s[u]=new br;break;case Q.KHR_MESH_QUANTIZATION:s[u]=new Ur;break;default:C.indexOf(u)>=0&&c[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}A.setExtensions(s),A.setPlugins(c),A.parse(a,r)}parseAsync(t,n){const a=this;return new Promise(function(r,i){a.parse(t,n,r,i)})}}function ur(){let p={};return{get:function(t){return p[t]},add:function(t,n){p[t]=n},remove:function(t){delete p[t]},removeAll:function(){p={}}}}const Q={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Cr{constructor(t){this.parser=t,this.name=Q.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,n=this.parser.json.nodes||[];for(let a=0,r=n.length;a<r;a++){const i=n[a];i.extensions&&i.extensions[this.name]&&i.extensions[this.name].light!==void 0&&t._addNodeRef(this.cache,i.extensions[this.name].light)}}_loadLight(t){const n=this.parser,a="light:"+t;let r=n.cache.get(a);if(r)return r;const i=n.json,A=((i.extensions&&i.extensions[this.name]||{}).lights||[])[t];let l;const u=new be(16777215);A.color!==void 0&&u.fromArray(A.color);const C=A.range!==void 0?A.range:0;switch(A.type){case"directional":l=new Sn(u),l.target.position.set(0,0,-1),l.add(l.target);break;case"point":l=new Hn(u),l.distance=C;break;case"spot":l=new Tn(u),l.distance=C,A.spot=A.spot||{},A.spot.innerConeAngle=A.spot.innerConeAngle!==void 0?A.spot.innerConeAngle:0,A.spot.outerConeAngle=A.spot.outerConeAngle!==void 0?A.spot.outerConeAngle:Math.PI/4,l.angle=A.spot.outerConeAngle,l.penumbra=1-A.spot.innerConeAngle/A.spot.outerConeAngle,l.target.position.set(0,0,-1),l.add(l.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+A.type)}return l.position.set(0,0,0),l.decay=2,ge(l,A),A.intensity!==void 0&&(l.intensity=A.intensity),l.name=n.createUniqueName(A.name||"light_"+t),r=Promise.resolve(l),n.cache.add(a,r),r}getDependency(t,n){if(t==="light")return this._loadLight(n)}createNodeAttachment(t){const n=this,a=this.parser,i=a.json.nodes[t],c=(i.extensions&&i.extensions[this.name]||{}).light;return c===void 0?null:this._loadLight(c).then(function(A){return a._getNodeRef(n.cache,c,A)})}}class hr{constructor(){this.name=Q.KHR_MATERIALS_UNLIT}getMaterialType(){return je}extendParams(t,n,a){const r=[];t.color=new be(1,1,1),t.opacity=1;const i=n.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){const s=i.baseColorFactor;t.color.fromArray(s),t.opacity=s[3]}i.baseColorTexture!==void 0&&r.push(a.assignTexture(t,"map",i.baseColorTexture,3001))}return Promise.all(r)}}class dr{constructor(t){this.parser=t,this.name=Q.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,n){const r=this.parser.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=r.extensions[this.name].emissiveStrength;return i!==void 0&&(n.emissiveIntensity=i),Promise.resolve()}}class fr{constructor(t){this.parser=t,this.name=Q.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const a=this.parser.json.materials[t];return!a.extensions||!a.extensions[this.name]?null:Re}extendMaterialParams(t,n){const a=this.parser,r=a.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];if(s.clearcoatFactor!==void 0&&(n.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&i.push(a.assignTexture(n,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&i.push(a.assignTexture(n,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(i.push(a.assignTexture(n,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const c=s.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new wt(c,c)}return Promise.all(i)}}class Er{constructor(t){this.parser=t,this.name=Q.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const a=this.parser.json.materials[t];return!a.extensions||!a.extensions[this.name]?null:Re}extendMaterialParams(t,n){const a=this.parser,r=a.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];return s.iridescenceFactor!==void 0&&(n.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&i.push(a.assignTexture(n,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(n.iridescenceIOR=s.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&i.push(a.assignTexture(n,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(i)}}class pr{constructor(t){this.parser=t,this.name=Q.KHR_MATERIALS_SHEEN}getMaterialType(t){const a=this.parser.json.materials[t];return!a.extensions||!a.extensions[this.name]?null:Re}extendMaterialParams(t,n){const a=this.parser,r=a.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[];n.sheenColor=new be(0,0,0),n.sheenRoughness=0,n.sheen=1;const s=r.extensions[this.name];return s.sheenColorFactor!==void 0&&n.sheenColor.fromArray(s.sheenColorFactor),s.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&i.push(a.assignTexture(n,"sheenColorMap",s.sheenColorTexture,3001)),s.sheenRoughnessTexture!==void 0&&i.push(a.assignTexture(n,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(i)}}class mr{constructor(t){this.parser=t,this.name=Q.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const a=this.parser.json.materials[t];return!a.extensions||!a.extensions[this.name]?null:Re}extendMaterialParams(t,n){const a=this.parser,r=a.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];return s.transmissionFactor!==void 0&&(n.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&i.push(a.assignTexture(n,"transmissionMap",s.transmissionTexture)),Promise.all(i)}}class Fr{constructor(t){this.parser=t,this.name=Q.KHR_MATERIALS_VOLUME}getMaterialType(t){const a=this.parser.json.materials[t];return!a.extensions||!a.extensions[this.name]?null:Re}extendMaterialParams(t,n){const a=this.parser,r=a.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];n.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&i.push(a.assignTexture(n,"thicknessMap",s.thicknessTexture)),n.attenuationDistance=s.attenuationDistance||1/0;const c=s.attenuationColor||[1,1,1];return n.attenuationColor=new be(c[0],c[1],c[2]),Promise.all(i)}}class Ir{constructor(t){this.parser=t,this.name=Q.KHR_MATERIALS_IOR}getMaterialType(t){const a=this.parser.json.materials[t];return!a.extensions||!a.extensions[this.name]?null:Re}extendMaterialParams(t,n){const r=this.parser.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=r.extensions[this.name];return n.ior=i.ior!==void 0?i.ior:1.5,Promise.resolve()}}class Gr{constructor(t){this.parser=t,this.name=Q.KHR_MATERIALS_SPECULAR}getMaterialType(t){const a=this.parser.json.materials[t];return!a.extensions||!a.extensions[this.name]?null:Re}extendMaterialParams(t,n){const a=this.parser,r=a.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];n.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&i.push(a.assignTexture(n,"specularIntensityMap",s.specularTexture));const c=s.specularColorFactor||[1,1,1];return n.specularColor=new be(c[0],c[1],c[2]),s.specularColorTexture!==void 0&&i.push(a.assignTexture(n,"specularColorMap",s.specularColorTexture,3001)),Promise.all(i)}}class Mr{constructor(t){this.parser=t,this.name=Q.KHR_MATERIALS_ANISOTROPY}getMaterialType(t){const a=this.parser.json.materials[t];return!a.extensions||!a.extensions[this.name]?null:Re}extendMaterialParams(t,n){const a=this.parser,r=a.json.materials[t];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const i=[],s=r.extensions[this.name];return s.anisotropyStrength!==void 0&&(n.anisotropy=s.anisotropyStrength),s.anisotropyRotation!==void 0&&(n.anisotropyRotation=s.anisotropyRotation),s.anisotropyTexture!==void 0&&i.push(a.assignTexture(n,"anisotropyMap",s.anisotropyTexture)),Promise.all(i)}}class vr{constructor(t){this.parser=t,this.name=Q.KHR_TEXTURE_BASISU}loadTexture(t){const n=this.parser,a=n.json,r=a.textures[t];if(!r.extensions||!r.extensions[this.name])return null;const i=r.extensions[this.name],s=n.options.ktx2Loader;if(!s){if(a.extensionsRequired&&a.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(t,i.source,s)}}class gr{constructor(t){this.parser=t,this.name=Q.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const n=this.name,a=this.parser,r=a.json,i=r.textures[t];if(!i.extensions||!i.extensions[n])return null;const s=i.extensions[n],c=r.images[s.source];let A=a.textureLoader;if(c.uri){const l=a.options.manager.getHandler(c.uri);l!==null&&(A=l)}return this.detectSupport().then(function(l){if(l)return a.loadTextureImage(t,s.source,A);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return a.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){t(n.height===1)}})),this.isSupported}}class Dr{constructor(t){this.parser=t,this.name=Q.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(t){const n=this.name,a=this.parser,r=a.json,i=r.textures[t];if(!i.extensions||!i.extensions[n])return null;const s=i.extensions[n],c=r.images[s.source];let A=a.textureLoader;if(c.uri){const l=a.options.manager.getHandler(c.uri);l!==null&&(A=l)}return this.detectSupport().then(function(l){if(l)return a.loadTextureImage(t,s.source,A);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return a.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){t(n.height===1)}})),this.isSupported}}class Rr{constructor(t){this.name=Q.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const n=this.parser.json,a=n.bufferViews[t];if(a.extensions&&a.extensions[this.name]){const r=a.extensions[this.name],i=this.parser.getDependency("buffer",r.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return i.then(function(c){const A=r.byteOffset||0,l=r.byteLength||0,u=r.count,C=r.byteStride,d=new Uint8Array(c,A,l);return s.decodeGltfBufferAsync?s.decodeGltfBufferAsync(u,C,d,r.mode,r.filter).then(function(m){return m.buffer}):s.ready.then(function(){const m=new ArrayBuffer(u*C);return s.decodeGltfBuffer(new Uint8Array(m),u,C,d,r.mode,r.filter),m})})}else return null}}class Tr{constructor(t){this.name=Q.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const n=this.parser.json,a=n.nodes[t];if(!a.extensions||!a.extensions[this.name]||a.mesh===void 0)return null;const r=n.meshes[a.mesh];for(const l of r.primitives)if(l.mode!==pe.TRIANGLES&&l.mode!==pe.TRIANGLE_STRIP&&l.mode!==pe.TRIANGLE_FAN&&l.mode!==void 0)return null;const s=a.extensions[this.name].attributes,c=[],A={};for(const l in s)c.push(this.parser.getDependency("accessor",s[l]).then(u=>(A[l]=u,A[l])));return c.length<1?null:(c.push(this.parser.createNodeMesh(t)),Promise.all(c).then(l=>{const u=l.pop(),C=u.isGroup?u.children:[u],d=l[0].count,m=[];for(const v of C){const H=new nt,S=new _e,b=new Qt,P=new _e(1,1,1),R=new bn(v.geometry,v.material,d);for(let U=0;U<d;U++)A.TRANSLATION&&S.fromBufferAttribute(A.TRANSLATION,U),A.ROTATION&&b.fromBufferAttribute(A.ROTATION,U),A.SCALE&&P.fromBufferAttribute(A.SCALE,U),R.setMatrixAt(U,H.compose(S,b,P));for(const U in A)U!=="TRANSLATION"&&U!=="ROTATION"&&U!=="SCALE"&&v.geometry.setAttribute(U,A[U]);Nt.prototype.copy.call(R,v),this.parser.assignFinalMaterial(R),m.push(R)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const Zt="glTF",Ze=12,Ht={JSON:1313821514,BIN:5130562};class Hr{constructor(t){this.name=Q.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(t,0,Ze);if(this.header={magic:Se.decodeText(new Uint8Array(t.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==Zt)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const a=this.header.length-Ze,r=new DataView(t,Ze);let i=0;for(;i<a;){const s=r.getUint32(i,!0);i+=4;const c=r.getUint32(i,!0);if(i+=4,c===Ht.JSON){const A=new Uint8Array(t,Ze+i,s);this.content=Se.decodeText(A)}else if(c===Ht.BIN){const A=Ze+i;this.body=t.slice(A,A+s)}i+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Sr{constructor(t,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Q.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(t,n){const a=this.json,r=this.dracoLoader,i=t.extensions[this.name].bufferView,s=t.extensions[this.name].attributes,c={},A={},l={};for(const u in s){const C=ft[u]||u.toLowerCase();c[C]=s[u]}for(const u in t.attributes){const C=ft[u]||u.toLowerCase();if(s[u]!==void 0){const d=a.accessors[t.attributes[u]],m=Ne[d.componentType];l[C]=m.name,A[C]=d.normalized===!0}}return n.getDependency("bufferView",i).then(function(u){return new Promise(function(C){r.decodeDracoFile(u,function(d){for(const m in d.attributes){const v=d.attributes[m],H=A[m];H!==void 0&&(v.normalized=H)}C(d)},c,l)})})}}class br{constructor(){this.name=Q.KHR_TEXTURE_TRANSFORM}extendTexture(t,n){return(n.texCoord===void 0||n.texCoord===t.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(t=t.clone(),n.texCoord!==void 0&&(t.channel=n.texCoord),n.offset!==void 0&&t.offset.fromArray(n.offset),n.rotation!==void 0&&(t.rotation=n.rotation),n.scale!==void 0&&t.repeat.fromArray(n.scale),t.needsUpdate=!0),t}}class Ur{constructor(){this.name=Q.KHR_MESH_QUANTIZATION}}class Yt extends Ar{constructor(t,n,a,r){super(t,n,a,r)}copySampleValue_(t){const n=this.resultBuffer,a=this.sampleValues,r=this.valueSize,i=t*r*3+r;for(let s=0;s!==r;s++)n[s]=a[i+s];return n}interpolate_(t,n,a,r){const i=this.resultBuffer,s=this.sampleValues,c=this.valueSize,A=c*2,l=c*3,u=r-n,C=(a-n)/u,d=C*C,m=d*C,v=t*l,H=v-l,S=-2*m+3*d,b=m-d,P=1-S,R=b-d+C;for(let U=0;U!==c;U++){const X=s[H+U+c],O=s[H+U+A]*u,N=s[v+U+c],K=s[v+U]*u;i[U]=P*X+R*O+S*N+b*K}return i}}const Jr=new Qt;class Lr extends Yt{interpolate_(t,n,a,r){const i=super.interpolate_(t,n,a,r);return Jr.fromArray(i).normalize().toArray(i),i}}const pe={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ne={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},St={9728:Wn,9729:xe,9984:Vn,9985:zn,9986:qn,9987:xt},bt={33071:$n,33648:er,10497:ht},ct={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ft={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",..._t.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ve={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},yr={CUBICSPLINE:void 0,LINEAR:kt,STEP:tr},Bt={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function _r(p){return p.DefaultMaterial===void 0&&(p.DefaultMaterial=new Kt({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:nr})),p.DefaultMaterial}function He(p,t,n){for(const a in n.extensions)p[a]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[a]=n.extensions[a])}function ge(p,t){t.extras!==void 0&&(typeof t.extras=="object"?Object.assign(p.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Or(p,t,n){let a=!1,r=!1,i=!1;for(let l=0,u=t.length;l<u;l++){const C=t[l];if(C.POSITION!==void 0&&(a=!0),C.NORMAL!==void 0&&(r=!0),C.COLOR_0!==void 0&&(i=!0),a&&r&&i)break}if(!a&&!r&&!i)return Promise.resolve(p);const s=[],c=[],A=[];for(let l=0,u=t.length;l<u;l++){const C=t[l];if(a){const d=C.POSITION!==void 0?n.getDependency("accessor",C.POSITION):p.attributes.position;s.push(d)}if(r){const d=C.NORMAL!==void 0?n.getDependency("accessor",C.NORMAL):p.attributes.normal;c.push(d)}if(i){const d=C.COLOR_0!==void 0?n.getDependency("accessor",C.COLOR_0):p.attributes.color;A.push(d)}}return Promise.all([Promise.all(s),Promise.all(c),Promise.all(A)]).then(function(l){const u=l[0],C=l[1],d=l[2];return a&&(p.morphAttributes.position=u),r&&(p.morphAttributes.normal=C),i&&(p.morphAttributes.color=d),p.morphTargetsRelative=!0,p})}function wr(p,t){if(p.updateMorphTargets(),t.weights!==void 0)for(let n=0,a=t.weights.length;n<a;n++)p.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){const n=t.extras.targetNames;if(p.morphTargetInfluences.length===n.length){p.morphTargetDictionary={};for(let a=0,r=n.length;a<r;a++)p.morphTargetDictionary[n[a]]=a}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Nr(p){let t;const n=p.extensions&&p.extensions[Q.KHR_DRACO_MESH_COMPRESSION];if(n?t="draco:"+n.bufferView+":"+n.indices+":"+lt(n.attributes):t=p.indices+":"+lt(p.attributes)+":"+p.mode,p.targets!==void 0)for(let a=0,r=p.targets.length;a<r;a++)t+=":"+lt(p.targets[a]);return t}function lt(p){let t="";const n=Object.keys(p).sort();for(let a=0,r=n.length;a<r;a++)t+=n[a]+":"+p[n[a]]+";";return t}function Et(p){switch(p){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function xr(p){return p.search(/\.jpe?g($|\?)/i)>0||p.search(/^data\:image\/jpeg/)===0?"image/jpeg":p.search(/\.webp($|\?)/i)>0||p.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Kr=new nt;class Pr{constructor(t={},n={}){this.json=t,this.extensions={},this.plugins={},this.options=n,this.cache=new ur,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let a=!1,r=!1,i=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,i=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||a||r&&i<98?this.textureLoader=new Un(this.options.manager):this.textureLoader=new Jn(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new tt(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,n){const a=this,r=this.json,i=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([a.getDependencies("scene"),a.getDependencies("animation"),a.getDependencies("camera")])}).then(function(s){const c={scene:s[0][r.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:r.asset,parser:a,userData:{}};He(i,c,r),ge(c,r),Promise.all(a._invokeAll(function(A){return A.afterRoot&&A.afterRoot(c)})).then(function(){t(c)})}).catch(n)}_markDefs(){const t=this.json.nodes||[],n=this.json.skins||[],a=this.json.meshes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r].joints;for(let c=0,A=s.length;c<A;c++)t[s[c]].isBone=!0}for(let r=0,i=t.length;r<i;r++){const s=t[r];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(a[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(t,n){n!==void 0&&(t.refs[n]===void 0&&(t.refs[n]=t.uses[n]=0),t.refs[n]++)}_getNodeRef(t,n,a){if(t.refs[n]<=1)return a;const r=a.clone(),i=(s,c)=>{const A=this.associations.get(s);A!=null&&this.associations.set(c,A);for(const[l,u]of s.children.entries())i(u,c.children[l])};return i(a,r),r.name+="_instance_"+t.uses[n]++,r}_invokeOne(t){const n=Object.values(this.plugins);n.push(this);for(let a=0;a<n.length;a++){const r=t(n[a]);if(r)return r}return null}_invokeAll(t){const n=Object.values(this.plugins);n.unshift(this);const a=[];for(let r=0;r<n.length;r++){const i=t(n[r]);i&&a.push(i)}return a}getDependency(t,n){const a=t+":"+n;let r=this.cache.get(a);if(!r){switch(t){case"scene":r=this.loadScene(n);break;case"node":r=this._invokeOne(function(i){return i.loadNode&&i.loadNode(n)});break;case"mesh":r=this._invokeOne(function(i){return i.loadMesh&&i.loadMesh(n)});break;case"accessor":r=this.loadAccessor(n);break;case"bufferView":r=this._invokeOne(function(i){return i.loadBufferView&&i.loadBufferView(n)});break;case"buffer":r=this.loadBuffer(n);break;case"material":r=this._invokeOne(function(i){return i.loadMaterial&&i.loadMaterial(n)});break;case"texture":r=this._invokeOne(function(i){return i.loadTexture&&i.loadTexture(n)});break;case"skin":r=this.loadSkin(n);break;case"animation":r=this._invokeOne(function(i){return i.loadAnimation&&i.loadAnimation(n)});break;case"camera":r=this.loadCamera(n);break;default:if(r=this._invokeOne(function(i){return i!=this&&i.getDependency&&i.getDependency(t,n)}),!r)throw new Error("Unknown type: "+t);break}this.cache.add(a,r)}return r}getDependencies(t){let n=this.cache.get(t);if(!n){const a=this,r=this.json[t+(t==="mesh"?"es":"s")]||[];n=Promise.all(r.map(function(i,s){return a.getDependency(t,s)})),this.cache.add(t,n)}return n}loadBuffer(t){const n=this.json.buffers[t],a=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&t===0)return Promise.resolve(this.extensions[Q.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(i,s){a.load(Se.resolveURL(n.uri,r.path),i,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(t){const n=this.json.bufferViews[t];return this.getDependency("buffer",n.buffer).then(function(a){const r=n.byteLength||0,i=n.byteOffset||0;return a.slice(i,i+r)})}loadAccessor(t){const n=this,a=this.json,r=this.json.accessors[t];if(r.bufferView===void 0&&r.sparse===void 0){const s=ct[r.type],c=Ne[r.componentType],A=r.normalized===!0,l=new c(r.count*s);return Promise.resolve(new We(l,s,A))}const i=[];return r.bufferView!==void 0?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),r.sparse!==void 0&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then(function(s){const c=s[0],A=ct[r.type],l=Ne[r.componentType],u=l.BYTES_PER_ELEMENT,C=u*A,d=r.byteOffset||0,m=r.bufferView!==void 0?a.bufferViews[r.bufferView].byteStride:void 0,v=r.normalized===!0;let H,S;if(m&&m!==C){const b=Math.floor(d/m),P="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+b+":"+r.count;let R=n.cache.get(P);R||(H=new l(c,b*m,r.count*m/u),R=new Ln(H,m/u),n.cache.add(P,R)),S=new rr(R,A,d%m/u,v)}else c===null?H=new l(r.count*A):H=new l(c,d,r.count*A),S=new We(H,A,v);if(r.sparse!==void 0){const b=ct.SCALAR,P=Ne[r.sparse.indices.componentType],R=r.sparse.indices.byteOffset||0,U=r.sparse.values.byteOffset||0,X=new P(s[1],R,r.sparse.count*b),O=new l(s[2],U,r.sparse.count*A);c!==null&&(S=new We(S.array.slice(),S.itemSize,S.normalized));for(let N=0,K=X.length;N<K;N++){const y=X[N];if(S.setX(y,O[N*A]),A>=2&&S.setY(y,O[N*A+1]),A>=3&&S.setZ(y,O[N*A+2]),A>=4&&S.setW(y,O[N*A+3]),A>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return S})}loadTexture(t){const n=this.json,a=this.options,i=n.textures[t].source,s=n.images[i];let c=this.textureLoader;if(s.uri){const A=a.manager.getHandler(s.uri);A!==null&&(c=A)}return this.loadTextureImage(t,i,c)}loadTextureImage(t,n,a){const r=this,i=this.json,s=i.textures[t],c=i.images[n],A=(c.uri||c.bufferView)+":"+s.sampler;if(this.textureCache[A])return this.textureCache[A];const l=this.loadImageSource(n,a).then(function(u){u.flipY=!1,u.name=s.name||c.name||"",u.name===""&&typeof c.uri=="string"&&c.uri.startsWith("data:image/")===!1&&(u.name=c.uri);const d=(i.samplers||{})[s.sampler]||{};return u.magFilter=St[d.magFilter]||xe,u.minFilter=St[d.minFilter]||xt,u.wrapS=bt[d.wrapS]||ht,u.wrapT=bt[d.wrapT]||ht,r.associations.set(u,{textures:t}),u}).catch(function(){return null});return this.textureCache[A]=l,l}loadImageSource(t,n){const a=this,r=this.json,i=this.options;if(this.sourceCache[t]!==void 0)return this.sourceCache[t].then(C=>C.clone());const s=r.images[t],c=self.URL||self.webkitURL;let A=s.uri||"",l=!1;if(s.bufferView!==void 0)A=a.getDependency("bufferView",s.bufferView).then(function(C){l=!0;const d=new Blob([C],{type:s.mimeType});return A=c.createObjectURL(d),A});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const u=Promise.resolve(A).then(function(C){return new Promise(function(d,m){let v=d;n.isImageBitmapLoader===!0&&(v=function(H){const S=new dt(H);S.needsUpdate=!0,d(S)}),n.load(Se.resolveURL(C,i.path),v,void 0,m)})}).then(function(C){return l===!0&&c.revokeObjectURL(A),C.userData.mimeType=s.mimeType||xr(s.uri),C}).catch(function(C){throw console.error("THREE.GLTFLoader: Couldn't load texture",A),C});return this.sourceCache[t]=u,u}assignTexture(t,n,a,r){const i=this;return this.getDependency("texture",a.index).then(function(s){if(!s)return null;if(a.texCoord!==void 0&&a.texCoord>0&&(s=s.clone(),s.channel=a.texCoord),i.extensions[Q.KHR_TEXTURE_TRANSFORM]){const c=a.extensions!==void 0?a.extensions[Q.KHR_TEXTURE_TRANSFORM]:void 0;if(c){const A=i.associations.get(s);s=i.extensions[Q.KHR_TEXTURE_TRANSFORM].extendTexture(s,c),i.associations.set(s,A)}}return r!==void 0&&("colorSpace"in s?s.colorSpace=r===3001?"srgb":"srgb-linear":s.encoding=r),t[n]=s,s})}assignFinalMaterial(t){const n=t.geometry;let a=t.material;const r=n.attributes.tangent===void 0,i=n.attributes.color!==void 0,s=n.attributes.normal===void 0;if(t.isPoints){const c="PointsMaterial:"+a.uuid;let A=this.cache.get(c);A||(A=new yn,at.prototype.copy.call(A,a),A.color.copy(a.color),A.map=a.map,A.sizeAttenuation=!1,this.cache.add(c,A)),a=A}else if(t.isLine){const c="LineBasicMaterial:"+a.uuid;let A=this.cache.get(c);A||(A=new _n,at.prototype.copy.call(A,a),A.color.copy(a.color),A.map=a.map,this.cache.add(c,A)),a=A}if(r||i||s){let c="ClonedMaterial:"+a.uuid+":";r&&(c+="derivative-tangents:"),i&&(c+="vertex-colors:"),s&&(c+="flat-shading:");let A=this.cache.get(c);A||(A=a.clone(),i&&(A.vertexColors=!0),s&&(A.flatShading=!0),r&&(A.normalScale&&(A.normalScale.y*=-1),A.clearcoatNormalScale&&(A.clearcoatNormalScale.y*=-1)),this.cache.add(c,A),this.associations.set(A,this.associations.get(a))),a=A}t.material=a}getMaterialType(){return Kt}loadMaterial(t){const n=this,a=this.json,r=this.extensions,i=a.materials[t];let s;const c={},A=i.extensions||{},l=[];if(A[Q.KHR_MATERIALS_UNLIT]){const C=r[Q.KHR_MATERIALS_UNLIT];s=C.getMaterialType(),l.push(C.extendParams(c,i,n))}else{const C=i.pbrMetallicRoughness||{};if(c.color=new be(1,1,1),c.opacity=1,Array.isArray(C.baseColorFactor)){const d=C.baseColorFactor;c.color.fromArray(d),c.opacity=d[3]}C.baseColorTexture!==void 0&&l.push(n.assignTexture(c,"map",C.baseColorTexture,3001)),c.metalness=C.metallicFactor!==void 0?C.metallicFactor:1,c.roughness=C.roughnessFactor!==void 0?C.roughnessFactor:1,C.metallicRoughnessTexture!==void 0&&(l.push(n.assignTexture(c,"metalnessMap",C.metallicRoughnessTexture)),l.push(n.assignTexture(c,"roughnessMap",C.metallicRoughnessTexture))),s=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(t)}),l.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(t,c)})))}i.doubleSided===!0&&(c.side=yt);const u=i.alphaMode||Bt.OPAQUE;if(u===Bt.BLEND?(c.transparent=!0,c.depthWrite=!1):(c.transparent=!1,u===Bt.MASK&&(c.alphaTest=i.alphaCutoff!==void 0?i.alphaCutoff:.5)),i.normalTexture!==void 0&&s!==je&&(l.push(n.assignTexture(c,"normalMap",i.normalTexture)),c.normalScale=new wt(1,1),i.normalTexture.scale!==void 0)){const C=i.normalTexture.scale;c.normalScale.set(C,C)}return i.occlusionTexture!==void 0&&s!==je&&(l.push(n.assignTexture(c,"aoMap",i.occlusionTexture)),i.occlusionTexture.strength!==void 0&&(c.aoMapIntensity=i.occlusionTexture.strength)),i.emissiveFactor!==void 0&&s!==je&&(c.emissive=new be().fromArray(i.emissiveFactor)),i.emissiveTexture!==void 0&&s!==je&&l.push(n.assignTexture(c,"emissiveMap",i.emissiveTexture,3001)),Promise.all(l).then(function(){const C=new s(c);return i.name&&(C.name=i.name),ge(C,i),n.associations.set(C,{materials:t}),i.extensions&&He(r,C,i),C})}createUniqueName(t){const n=On.sanitizeNodeName(t||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(t){const n=this,a=this.extensions,r=this.primitiveCache;function i(c){return a[Q.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(c,n).then(function(A){return Ut(A,c,n)})}const s=[];for(let c=0,A=t.length;c<A;c++){const l=t[c],u=Nr(l),C=r[u];if(C)s.push(C.promise);else{let d;l.extensions&&l.extensions[Q.KHR_DRACO_MESH_COMPRESSION]?d=i(l):d=Ut(new Pt,l,n),r[u]={primitive:l,promise:d},s.push(d)}}return Promise.all(s)}loadMesh(t){const n=this,a=this.json,r=this.extensions,i=a.meshes[t],s=i.primitives,c=[];for(let A=0,l=s.length;A<l;A++){const u=s[A].material===void 0?_r(this.cache):this.getDependency("material",s[A].material);c.push(u)}return c.push(n.loadGeometries(s)),Promise.all(c).then(function(A){const l=A.slice(0,A.length-1),u=A[A.length-1],C=[];for(let m=0,v=u.length;m<v;m++){const H=u[m],S=s[m];let b;const P=l[m];if(S.mode===pe.TRIANGLES||S.mode===pe.TRIANGLE_STRIP||S.mode===pe.TRIANGLE_FAN||S.mode===void 0)b=i.isSkinnedMesh===!0?new wn(H,P):new Lt(H,P),b.isSkinnedMesh===!0&&b.normalizeSkinWeights(),S.mode===pe.TRIANGLE_STRIP?b.geometry=Tt(b.geometry,Jt):S.mode===pe.TRIANGLE_FAN&&(b.geometry=Tt(b.geometry,Ct));else if(S.mode===pe.LINES)b=new Nn(H,P);else if(S.mode===pe.LINE_STRIP)b=new xn(H,P);else if(S.mode===pe.LINE_LOOP)b=new Kn(H,P);else if(S.mode===pe.POINTS)b=new Pn(H,P);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+S.mode);Object.keys(b.geometry.morphAttributes).length>0&&wr(b,i),b.name=n.createUniqueName(i.name||"mesh_"+t),ge(b,i),S.extensions&&He(r,b,S),n.assignFinalMaterial(b),C.push(b)}for(let m=0,v=C.length;m<v;m++)n.associations.set(C[m],{meshes:t,primitives:m});if(C.length===1)return i.extensions&&He(r,C[0],i),C[0];const d=new At;i.extensions&&He(r,d,i),n.associations.set(d,{meshes:t});for(let m=0,v=C.length;m<v;m++)d.add(C[m]);return d})}loadCamera(t){let n;const a=this.json.cameras[t],r=a[a.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return a.type==="perspective"?n=new kn(Qn.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):a.type==="orthographic"&&(n=new Xn(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),a.name&&(n.name=this.createUniqueName(a.name)),ge(n,a),Promise.resolve(n)}loadSkin(t){const n=this.json.skins[t],a=[];for(let r=0,i=n.joints.length;r<i;r++)a.push(this._loadNodeShallow(n.joints[r]));return n.inverseBindMatrices!==void 0?a.push(this.getDependency("accessor",n.inverseBindMatrices)):a.push(null),Promise.all(a).then(function(r){const i=r.pop(),s=r,c=[],A=[];for(let l=0,u=s.length;l<u;l++){const C=s[l];if(C){c.push(C);const d=new nt;i!==null&&d.fromArray(i.array,l*16),A.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[l])}return new Zn(c,A)})}loadAnimation(t){const a=this.json.animations[t],r=a.name?a.name:"animation_"+t,i=[],s=[],c=[],A=[],l=[];for(let u=0,C=a.channels.length;u<C;u++){const d=a.channels[u],m=a.samplers[d.sampler],v=d.target,H=v.node,S=a.parameters!==void 0?a.parameters[m.input]:m.input,b=a.parameters!==void 0?a.parameters[m.output]:m.output;v.node!==void 0&&(i.push(this.getDependency("node",H)),s.push(this.getDependency("accessor",S)),c.push(this.getDependency("accessor",b)),A.push(m),l.push(v))}return Promise.all([Promise.all(i),Promise.all(s),Promise.all(c),Promise.all(A),Promise.all(l)]).then(function(u){const C=u[0],d=u[1],m=u[2],v=u[3],H=u[4],S=[];for(let b=0,P=C.length;b<P;b++){const R=C[b],U=d[b],X=m[b],O=v[b],N=H[b];if(R===void 0)continue;R.updateMatrix();let K;switch(ve[N.path]){case ve.weights:K=or;break;case ve.rotation:K=Rt;break;case ve.position:case ve.scale:default:K=sr;break}const y=R.name?R.name:R.uuid,W=O.interpolation!==void 0?yr[O.interpolation]:kt,_=[];ve[N.path]===ve.weights?R.traverse(function(ie){ie.morphTargetInfluences&&_.push(ie.name?ie.name:ie.uuid)}):_.push(y);let te=X.array;if(X.normalized){const ie=Et(te.constructor),ae=new Float32Array(te.length);for(let re=0,Ue=te.length;re<Ue;re++)ae[re]=te[re]*ie;te=ae}for(let ie=0,ae=_.length;ie<ae;ie++){const re=new K(_[ie]+"."+ve[N.path],U.array,te,W);O.interpolation==="CUBICSPLINE"&&(re.createInterpolant=function(le){const ue=this instanceof Rt?Lr:Yt;return new ue(this.times,this.values,this.getValueSize()/3,le)},re.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),S.push(re)}}return new Yn(r,void 0,S)})}createNodeMesh(t){const n=this.json,a=this,r=n.nodes[t];return r.mesh===void 0?null:a.getDependency("mesh",r.mesh).then(function(i){const s=a._getNodeRef(a.meshCache,r.mesh,i);return r.weights!==void 0&&s.traverse(function(c){if(c.isMesh)for(let A=0,l=r.weights.length;A<l;A++)c.morphTargetInfluences[A]=r.weights[A]}),s})}loadNode(t){const n=this.json,a=this,r=n.nodes[t],i=a._loadNodeShallow(t),s=[],c=r.children||[];for(let l=0,u=c.length;l<u;l++)s.push(a.getDependency("node",c[l]));const A=r.skin===void 0?Promise.resolve(null):a.getDependency("skin",r.skin);return Promise.all([i,Promise.all(s),A]).then(function(l){const u=l[0],C=l[1],d=l[2];d!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(d,Kr)});for(let m=0,v=C.length;m<v;m++)u.add(C[m]);return u})}_loadNodeShallow(t){const n=this.json,a=this.extensions,r=this;if(this.nodeCache[t]!==void 0)return this.nodeCache[t];const i=n.nodes[t],s=i.name?r.createUniqueName(i.name):"",c=[],A=r._invokeOne(function(l){return l.createNodeMesh&&l.createNodeMesh(t)});return A&&c.push(A),i.camera!==void 0&&c.push(r.getDependency("camera",i.camera).then(function(l){return r._getNodeRef(r.cameraCache,i.camera,l)})),r._invokeAll(function(l){return l.createNodeAttachment&&l.createNodeAttachment(t)}).forEach(function(l){c.push(l)}),this.nodeCache[t]=Promise.all(c).then(function(l){let u;if(i.isBone===!0?u=new jn:l.length>1?u=new At:l.length===1?u=l[0]:u=new Nt,u!==l[0])for(let C=0,d=l.length;C<d;C++)u.add(l[C]);if(i.name&&(u.userData.name=i.name,u.name=s),ge(u,i),i.extensions&&He(a,u,i),i.matrix!==void 0){const C=new nt;C.fromArray(i.matrix),u.applyMatrix4(C)}else i.translation!==void 0&&u.position.fromArray(i.translation),i.rotation!==void 0&&u.quaternion.fromArray(i.rotation),i.scale!==void 0&&u.scale.fromArray(i.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=t,u}),this.nodeCache[t]}loadScene(t){const n=this.extensions,a=this.json.scenes[t],r=this,i=new At;a.name&&(i.name=r.createUniqueName(a.name)),ge(i,a),a.extensions&&He(n,i,a);const s=a.nodes||[],c=[];for(let A=0,l=s.length;A<l;A++)c.push(r.getDependency("node",s[A]));return Promise.all(c).then(function(A){for(let u=0,C=A.length;u<C;u++)i.add(A[u]);const l=u=>{const C=new Map;for(const[d,m]of r.associations)(d instanceof at||d instanceof dt)&&C.set(d,m);return u.traverse(d=>{const m=r.associations.get(d);m!=null&&C.set(d,m)}),C};return r.associations=l(i),i})}}function kr(p,t,n){const a=t.attributes,r=new ir;if(a.POSITION!==void 0){const c=n.json.accessors[a.POSITION],A=c.min,l=c.max;if(A!==void 0&&l!==void 0){if(r.set(new _e(A[0],A[1],A[2]),new _e(l[0],l[1],l[2])),c.normalized){const u=Et(Ne[c.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const i=t.targets;if(i!==void 0){const c=new _e,A=new _e;for(let l=0,u=i.length;l<u;l++){const C=i[l];if(C.POSITION!==void 0){const d=n.json.accessors[C.POSITION],m=d.min,v=d.max;if(m!==void 0&&v!==void 0){if(A.setX(Math.max(Math.abs(m[0]),Math.abs(v[0]))),A.setY(Math.max(Math.abs(m[1]),Math.abs(v[1]))),A.setZ(Math.max(Math.abs(m[2]),Math.abs(v[2]))),d.normalized){const H=Et(Ne[d.componentType]);A.multiplyScalar(H)}c.max(A)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(c)}p.boundingBox=r;const s=new ar;r.getCenter(s.center),s.radius=r.min.distanceTo(r.max)/2,p.boundingSphere=s}function Ut(p,t,n){const a=t.attributes,r=[];function i(s,c){return n.getDependency("accessor",s).then(function(A){p.setAttribute(c,A)})}for(const s in a){const c=ft[s]||s.toLowerCase();c in p.attributes||r.push(i(a[s],c))}if(t.indices!==void 0&&!p.index){const s=n.getDependency("accessor",t.indices).then(function(c){p.setIndex(c)});r.push(s)}return ge(p,t),kr(p,t,n),Promise.all(r).then(function(){return t.targets!==void 0?Or(p,t.targets,n):p})}const Wr={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},Vr={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};class zr extends Xt{constructor(t){super(t),this.type=De}parse(t){const c=function(R,U){switch(R){case 1:console.error("THREE.RGBELoader Read Error: "+(U||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(U||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(U||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(U||""))}return-1},C=`
`,d=function(R,U,X){U=U||1024;let N=R.pos,K=-1,y=0,W="",_=String.fromCharCode.apply(null,new Uint16Array(R.subarray(N,N+128)));for(;0>(K=_.indexOf(C))&&y<U&&N<R.byteLength;)W+=_,y+=_.length,N+=128,_+=String.fromCharCode.apply(null,new Uint16Array(R.subarray(N,N+128)));return-1<K?(X!==!1&&(R.pos+=y+K+1),W+_.slice(0,K)):!1},m=function(R){const U=/^#\?(\S+)/,X=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,O=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,N=/^\s*FORMAT=(\S+)\s*$/,K=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,y={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let W,_;if(R.pos>=R.byteLength||!(W=d(R)))return c(1,"no header found");if(!(_=W.match(U)))return c(3,"bad initial token");for(y.valid|=1,y.programtype=_[1],y.string+=W+`
`;W=d(R),W!==!1;){if(y.string+=W+`
`,W.charAt(0)==="#"){y.comments+=W+`
`;continue}if((_=W.match(X))&&(y.gamma=parseFloat(_[1])),(_=W.match(O))&&(y.exposure=parseFloat(_[1])),(_=W.match(N))&&(y.valid|=2,y.format=_[1]),(_=W.match(K))&&(y.valid|=4,y.height=parseInt(_[1],10),y.width=parseInt(_[2],10)),y.valid&2&&y.valid&4)break}return y.valid&2?y.valid&4?y:c(3,"missing image size specifier"):c(3,"missing format specifier")},v=function(R,U,X){const O=U;if(O<8||O>32767||R[0]!==2||R[1]!==2||R[2]&128)return new Uint8Array(R);if(O!==(R[2]<<8|R[3]))return c(3,"wrong scanline width");const N=new Uint8Array(4*U*X);if(!N.length)return c(4,"unable to allocate buffer space");let K=0,y=0;const W=4*O,_=new Uint8Array(4),te=new Uint8Array(W);let ie=X;for(;ie>0&&y<R.byteLength;){if(y+4>R.byteLength)return c(1);if(_[0]=R[y++],_[1]=R[y++],_[2]=R[y++],_[3]=R[y++],_[0]!=2||_[1]!=2||(_[2]<<8|_[3])!=O)return c(3,"bad rgbe scanline format");let ae=0,re;for(;ae<W&&y<R.byteLength;){re=R[y++];const le=re>128;if(le&&(re-=128),re===0||ae+re>W)return c(3,"bad scanline data");if(le){const ue=R[y++];for(let Ve=0;Ve<re;Ve++)te[ae++]=ue}else te.set(R.subarray(y,y+re),ae),ae+=re,y+=re}const Ue=O;for(let le=0;le<Ue;le++){let ue=0;N[K]=te[le+ue],ue+=O,N[K+1]=te[le+ue],ue+=O,N[K+2]=te[le+ue],ue+=O,N[K+3]=te[le+ue],K+=4}ie--}return N},H=function(R,U,X,O){const N=R[U+3],K=Math.pow(2,N-128)/255;X[O+0]=R[U+0]*K,X[O+1]=R[U+1]*K,X[O+2]=R[U+2]*K,X[O+3]=1},S=function(R,U,X,O){const N=R[U+3],K=Math.pow(2,N-128)/255;X[O+0]=Oe.toHalfFloat(Math.min(R[U+0]*K,65504)),X[O+1]=Oe.toHalfFloat(Math.min(R[U+1]*K,65504)),X[O+2]=Oe.toHalfFloat(Math.min(R[U+2]*K,65504)),X[O+3]=Oe.toHalfFloat(1)},b=new Uint8Array(t);b.pos=0;const P=m(b);if(P!==-1){const R=P.width,U=P.height,X=v(b.subarray(b.pos),R,U);if(X!==-1){let O,N,K;switch(this.type){case we:K=X.length/4;const y=new Float32Array(K*4);for(let _=0;_<K;_++)H(X,_*4,y,_*4);O=y,N=we;break;case De:K=X.length/4;const W=new Uint16Array(K*4);for(let _=0;_<K;_++)S(X,_*4,W,_*4);O=W,N=De;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:R,height:U,data:O,header:P.string,gamma:P.gamma,exposure:P.exposure,type:N}}}return null}setDataType(t){return this.type=t,this}load(t,n,a,r){function i(s,c){switch(s.type){case we:case De:"colorSpace"in s?s.colorSpace="srgb-linear":s.encoding=3e3,s.minFilter=xe,s.magFilter=xe,s.generateMipmaps=!1,s.flipY=!0;break}n&&n(s,c)}return super.load(t,i,a,r)}}const Ye="colorSpace"in new dt;class qr extends Xt{constructor(t){super(t),this.type=De}parse(t){const y=Math.pow(2.7182818,2.2);function W(e,o){for(var B=0,h=0;h<65536;++h)(h==0||e[h>>3]&1<<(h&7))&&(o[B++]=h);for(var f=B-1;B<65536;)o[B++]=0;return f}function _(e){for(var o=0;o<16384;o++)e[o]={},e[o].len=0,e[o].lit=0,e[o].p=null}const te={l:0,c:0,lc:0};function ie(e,o,B,h,f){for(;B<e;)o=o<<8|gt(h,f),B+=8;B-=e,te.l=o>>B&(1<<e)-1,te.c=o,te.lc=B}const ae=new Array(59);function re(e){for(var o=0;o<=58;++o)ae[o]=0;for(var o=0;o<65537;++o)ae[e[o]]+=1;for(var B=0,o=58;o>0;--o){var h=B+ae[o]>>1;ae[o]=B,B=h}for(var o=0;o<65537;++o){var f=e[o];f>0&&(e[o]=f|ae[f]++<<6)}}function Ue(e,o,B,h,f,E,I){for(var F=B,g=0,M=0;f<=E;f++){if(F.value-B.value>h)return!1;ie(6,g,M,e,F);var D=te.l;if(g=te.c,M=te.lc,I[f]=D,D==63){if(F.value-B.value>h)throw"Something wrong with hufUnpackEncTable";ie(8,g,M,e,F);var G=te.l+6;if(g=te.c,M=te.lc,f+G>E+1)throw"Something wrong with hufUnpackEncTable";for(;G--;)I[f++]=0;f--}else if(D>=59){var G=D-59+2;if(f+G>E+1)throw"Something wrong with hufUnpackEncTable";for(;G--;)I[f++]=0;f--}}re(I)}function le(e){return e&63}function ue(e){return e>>6}function Ve(e,o,B,h){for(;o<=B;o++){var f=ue(e[o]),E=le(e[o]);if(f>>E)throw"Invalid table entry";if(E>14){var I=h[f>>E-14];if(I.len)throw"Invalid table entry";if(I.lit++,I.p){var F=I.p;I.p=new Array(I.lit);for(var g=0;g<I.lit-1;++g)I.p[g]=F[g]}else I.p=new Array(1);I.p[I.lit-1]=o}else if(E)for(var M=0,g=1<<14-E;g>0;g--){var I=h[(f<<14-E)+M];if(I.len||I.p)throw"Invalid table entry";I.len=E,I.lit=o,M++}}return!0}const Ie={c:0,lc:0};function rt(e,o,B,h){e=e<<8|gt(B,h),o+=8,Ie.c=e,Ie.lc=o}const Ge={c:0,lc:0};function st(e,o,B,h,f,E,I,F,g,M){if(e==o){h<8&&(rt(B,h,f,I),B=Ie.c,h=Ie.lc),h-=8;var D=B>>h,D=new Uint8Array([D])[0];if(g.value+D>M)return!1;for(var G=F[g.value-1];D-- >0;)F[g.value++]=G}else if(g.value<M)F[g.value++]=e;else return!1;Ge.c=B,Ge.lc=h}function ot(e){return e&65535}function pt(e){var o=ot(e);return o>32767?o-65536:o}const $={a:0,b:0};function Je(e,o){var B=pt(e),h=pt(o),f=h,E=B+(f&1)+(f>>1),I=E,F=E-f;$.a=I,$.b=F}function Le(e,o){var B=ot(e),h=ot(o),f=B-(h>>1)&65535,E=h+f-32768&65535;$.a=E,$.b=f}function jt(e,o,B,h,f,E,I){for(var F=I<16384,g=B>f?f:B,M=1,D;M<=g;)M<<=1;for(M>>=1,D=M,M>>=1;M>=1;){for(var G=0,ne=G+E*(f-D),J=E*M,L=E*D,w=h*M,x=h*D,Y,V,se,Be;G<=ne;G+=L){for(var z=G,me=G+h*(B-D);z<=me;z+=x){var q=z+w,oe=z+J,Fe=oe+w;F?(Je(e[z+o],e[oe+o]),Y=$.a,se=$.b,Je(e[q+o],e[Fe+o]),V=$.a,Be=$.b,Je(Y,V),e[z+o]=$.a,e[q+o]=$.b,Je(se,Be),e[oe+o]=$.a,e[Fe+o]=$.b):(Le(e[z+o],e[oe+o]),Y=$.a,se=$.b,Le(e[q+o],e[Fe+o]),V=$.a,Be=$.b,Le(Y,V),e[z+o]=$.a,e[q+o]=$.b,Le(se,Be),e[oe+o]=$.a,e[Fe+o]=$.b)}if(B&M){var oe=z+J;F?Je(e[z+o],e[oe+o]):Le(e[z+o],e[oe+o]),Y=$.a,e[oe+o]=$.b,e[z+o]=Y}}if(f&M)for(var z=G,me=G+h*(B-D);z<=me;z+=x){var q=z+w;F?Je(e[z+o],e[q+o]):Le(e[z+o],e[q+o]),Y=$.a,e[q+o]=$.b,e[z+o]=Y}D=M,M>>=1}return G}function Wt(e,o,B,h,f,E,I,F,g,M){for(var D=0,G=0,ne=F,J=Math.trunc(f.value+(E+7)/8);f.value<J;)for(rt(D,G,B,f),D=Ie.c,G=Ie.lc;G>=14;){var L=D>>G-14&16383,w=o[L];if(w.len)G-=w.len,st(w.lit,I,D,G,B,h,f,g,M,ne),D=Ge.c,G=Ge.lc;else{if(!w.p)throw"hufDecode issues";var x;for(x=0;x<w.lit;x++){for(var Y=le(e[w.p[x]]);G<Y&&f.value<J;)rt(D,G,B,f),D=Ie.c,G=Ie.lc;if(G>=Y&&ue(e[w.p[x]])==(D>>G-Y&(1<<Y)-1)){G-=Y,st(w.p[x],I,D,G,B,h,f,g,M,ne),D=Ge.c,G=Ge.lc;break}}if(x==w.lit)throw"hufDecode issues"}}var V=8-E&7;for(D>>=V,G-=V;G>0;){var w=o[D<<14-G&16383];if(w.len)G-=w.len,st(w.lit,I,D,G,B,h,f,g,M,ne),D=Ge.c,G=Ge.lc;else throw"hufDecode issues"}return!0}function mt(e,o,B,h,f,E){var I={value:0},F=B.value,g=Ce(o,B),M=Ce(o,B);B.value+=4;var D=Ce(o,B);if(B.value+=4,g<0||g>=65537||M<0||M>=65537)throw"Something wrong with HUF_ENCSIZE";var G=new Array(65537),ne=new Array(16384);_(ne);var J=h-(B.value-F);if(Ue(e,o,B,J,g,M,G),D>8*(h-(B.value-F)))throw"Something wrong with hufUncompress";Ve(G,g,M,ne),Wt(G,ne,e,o,B,D,M,E,f,I)}function Vt(e,o,B){for(var h=0;h<B;++h)o[h]=e[o[h]]}function Ft(e){for(var o=1;o<e.length;o++){var B=e[o-1]+e[o]-128;e[o]=B}}function It(e,o){for(var B=0,h=Math.floor((e.length+1)/2),f=0,E=e.length-1;!(f>E||(o[f++]=e[B++],f>E));)o[f++]=e[h++]}function Gt(e){for(var o=e.byteLength,B=new Array,h=0,f=new DataView(e);o>0;){var E=f.getInt8(h++);if(E<0){var I=-E;o-=I+1;for(var F=0;F<I;F++)B.push(f.getUint8(h++))}else{var I=E;o-=2;for(var g=f.getUint8(h++),F=0;F<I+1;F++)B.push(g)}}return B}function zt(e,o,B,h,f,E){var q=new DataView(E.buffer),I=B[e.idx[0]].width,F=B[e.idx[0]].height,g=3,M=Math.floor(I/8),D=Math.ceil(I/8),G=Math.ceil(F/8),ne=I-(D-1)*8,J=F-(G-1)*8,L={value:0},w=new Array(g),x=new Array(g),Y=new Array(g),V=new Array(g),se=new Array(g);for(let j=0;j<g;++j)se[j]=o[e.idx[j]],w[j]=j<1?0:w[j-1]+D*G,x[j]=new Float32Array(64),Y[j]=new Uint16Array(64),V[j]=new Uint16Array(D*64);for(let j=0;j<G;++j){var Be=8;j==G-1&&(Be=J);var z=8;for(let ee=0;ee<D;++ee){ee==D-1&&(z=ne);for(let Z=0;Z<g;++Z)Y[Z].fill(0),Y[Z][0]=f[w[Z]++],qt(L,h,Y[Z]),$t(Y[Z],x[Z]),en(x[Z]);tn(x);for(let Z=0;Z<g;++Z)nn(x[Z],V[Z],ee*64)}let ce=0;for(let ee=0;ee<g;++ee){const Z=B[e.idx[ee]].type;for(let Ee=8*j;Ee<8*j+Be;++Ee){ce=se[ee][Ee];for(let Te=0;Te<M;++Te){const he=Te*64+(Ee&7)*8;q.setUint16(ce+0*2*Z,V[ee][he+0],!0),q.setUint16(ce+1*2*Z,V[ee][he+1],!0),q.setUint16(ce+2*2*Z,V[ee][he+2],!0),q.setUint16(ce+3*2*Z,V[ee][he+3],!0),q.setUint16(ce+4*2*Z,V[ee][he+4],!0),q.setUint16(ce+5*2*Z,V[ee][he+5],!0),q.setUint16(ce+6*2*Z,V[ee][he+6],!0),q.setUint16(ce+7*2*Z,V[ee][he+7],!0),ce+=8*2*Z}}if(M!=D)for(let Ee=8*j;Ee<8*j+Be;++Ee){const Te=se[ee][Ee]+8*M*2*Z,he=M*64+(Ee&7)*8;for(let Me=0;Me<z;++Me)q.setUint16(Te+Me*2*Z,V[ee][he+Me],!0)}}}for(var me=new Uint16Array(I),q=new DataView(E.buffer),oe=0;oe<g;++oe){B[e.idx[oe]].decoded=!0;var Fe=B[e.idx[oe]].type;if(B[oe].type==2)for(var Xe=0;Xe<F;++Xe){const j=se[oe][Xe];for(var fe=0;fe<I;++fe)me[fe]=q.getUint16(j+fe*2*Fe,!0);for(var fe=0;fe<I;++fe)q.setFloat32(j+fe*2*Fe,T(me[fe]),!0)}}}function qt(e,o,B){for(var h,f=1;f<64;)h=o[e.value],h==65280?f=64:h>>8==255?f+=h&255:(B[f]=h,f++),e.value++}function $t(e,o){o[0]=T(e[0]),o[1]=T(e[1]),o[2]=T(e[5]),o[3]=T(e[6]),o[4]=T(e[14]),o[5]=T(e[15]),o[6]=T(e[27]),o[7]=T(e[28]),o[8]=T(e[2]),o[9]=T(e[4]),o[10]=T(e[7]),o[11]=T(e[13]),o[12]=T(e[16]),o[13]=T(e[26]),o[14]=T(e[29]),o[15]=T(e[42]),o[16]=T(e[3]),o[17]=T(e[8]),o[18]=T(e[12]),o[19]=T(e[17]),o[20]=T(e[25]),o[21]=T(e[30]),o[22]=T(e[41]),o[23]=T(e[43]),o[24]=T(e[9]),o[25]=T(e[11]),o[26]=T(e[18]),o[27]=T(e[24]),o[28]=T(e[31]),o[29]=T(e[40]),o[30]=T(e[44]),o[31]=T(e[53]),o[32]=T(e[10]),o[33]=T(e[19]),o[34]=T(e[23]),o[35]=T(e[32]),o[36]=T(e[39]),o[37]=T(e[45]),o[38]=T(e[52]),o[39]=T(e[54]),o[40]=T(e[20]),o[41]=T(e[22]),o[42]=T(e[33]),o[43]=T(e[38]),o[44]=T(e[46]),o[45]=T(e[51]),o[46]=T(e[55]),o[47]=T(e[60]),o[48]=T(e[21]),o[49]=T(e[34]),o[50]=T(e[37]),o[51]=T(e[47]),o[52]=T(e[50]),o[53]=T(e[56]),o[54]=T(e[59]),o[55]=T(e[61]),o[56]=T(e[35]),o[57]=T(e[36]),o[58]=T(e[48]),o[59]=T(e[49]),o[60]=T(e[57]),o[61]=T(e[58]),o[62]=T(e[62]),o[63]=T(e[63])}function en(e){const o=.5*Math.cos(.7853975),B=.5*Math.cos(3.14159/16),h=.5*Math.cos(3.14159/8),f=.5*Math.cos(3*3.14159/16),E=.5*Math.cos(5*3.14159/16),I=.5*Math.cos(3*3.14159/8),F=.5*Math.cos(7*3.14159/16);for(var g=new Array(4),M=new Array(4),D=new Array(4),G=new Array(4),ne=0;ne<8;++ne){var J=ne*8;g[0]=h*e[J+2],g[1]=I*e[J+2],g[2]=h*e[J+6],g[3]=I*e[J+6],M[0]=B*e[J+1]+f*e[J+3]+E*e[J+5]+F*e[J+7],M[1]=f*e[J+1]-F*e[J+3]-B*e[J+5]-E*e[J+7],M[2]=E*e[J+1]-B*e[J+3]+F*e[J+5]+f*e[J+7],M[3]=F*e[J+1]-E*e[J+3]+f*e[J+5]-B*e[J+7],D[0]=o*(e[J+0]+e[J+4]),D[3]=o*(e[J+0]-e[J+4]),D[1]=g[0]+g[3],D[2]=g[1]-g[2],G[0]=D[0]+D[1],G[1]=D[3]+D[2],G[2]=D[3]-D[2],G[3]=D[0]-D[1],e[J+0]=G[0]+M[0],e[J+1]=G[1]+M[1],e[J+2]=G[2]+M[2],e[J+3]=G[3]+M[3],e[J+4]=G[3]-M[3],e[J+5]=G[2]-M[2],e[J+6]=G[1]-M[1],e[J+7]=G[0]-M[0]}for(var L=0;L<8;++L)g[0]=h*e[16+L],g[1]=I*e[16+L],g[2]=h*e[48+L],g[3]=I*e[48+L],M[0]=B*e[8+L]+f*e[24+L]+E*e[40+L]+F*e[56+L],M[1]=f*e[8+L]-F*e[24+L]-B*e[40+L]-E*e[56+L],M[2]=E*e[8+L]-B*e[24+L]+F*e[40+L]+f*e[56+L],M[3]=F*e[8+L]-E*e[24+L]+f*e[40+L]-B*e[56+L],D[0]=o*(e[L]+e[32+L]),D[3]=o*(e[L]-e[32+L]),D[1]=g[0]+g[3],D[2]=g[1]-g[2],G[0]=D[0]+D[1],G[1]=D[3]+D[2],G[2]=D[3]-D[2],G[3]=D[0]-D[1],e[0+L]=G[0]+M[0],e[8+L]=G[1]+M[1],e[16+L]=G[2]+M[2],e[24+L]=G[3]+M[3],e[32+L]=G[3]-M[3],e[40+L]=G[2]-M[2],e[48+L]=G[1]-M[1],e[56+L]=G[0]-M[0]}function tn(e){for(var o=0;o<64;++o){var B=e[0][o],h=e[1][o],f=e[2][o];e[0][o]=B+1.5747*f,e[1][o]=B-.1873*h-.4682*f,e[2][o]=B+1.8556*h}}function nn(e,o,B){for(var h=0;h<64;++h)o[B+h]=Oe.toHalfFloat(rn(e[h]))}function rn(e){return e<=1?Math.sign(e)*Math.pow(Math.abs(e),2.2):Math.sign(e)*Math.pow(y,Math.abs(e)-1)}function Mt(e){return new DataView(e.array.buffer,e.offset.value,e.size)}function sn(e){var o=e.viewer.buffer.slice(e.offset.value,e.offset.value+e.size),B=new Uint8Array(Gt(o)),h=new Uint8Array(B.length);return Ft(B),It(B,h),new DataView(h.buffer)}function it(e){var o=e.array.slice(e.offset.value,e.offset.value+e.size),B=$e(o),h=new Uint8Array(B.length);return Ft(B),It(B,h),new DataView(h.buffer)}function on(e){for(var o=e.viewer,B={value:e.offset.value},h=new Uint16Array(e.width*e.scanlineBlockSize*(e.channels*e.type)),f=new Uint8Array(8192),E=0,I=new Array(e.channels),F=0;F<e.channels;F++)I[F]={},I[F].start=E,I[F].end=I[F].start,I[F].nx=e.width,I[F].ny=e.lines,I[F].size=e.type,E+=I[F].nx*I[F].ny*I[F].size;var g=Pe(o,B),M=Pe(o,B);if(M>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(g<=M)for(var F=0;F<M-g+1;F++)f[F+g]=ye(o,B);var D=new Uint16Array(65536),G=W(f,D),ne=Ce(o,B);mt(e.array,o,B,ne,h,E);for(var F=0;F<e.channels;++F)for(var J=I[F],L=0;L<I[F].size;++L)jt(h,J.start+L,J.nx,J.size,J.ny,J.nx*J.size,G);Vt(D,h,E);for(var w=0,x=new Uint8Array(h.buffer.byteLength),Y=0;Y<e.lines;Y++)for(var V=0;V<e.channels;V++){var J=I[V],se=J.nx*J.size,Be=new Uint8Array(h.buffer,J.end*2,se*2);x.set(Be,w),w+=se*2,J.end+=se}return new DataView(x.buffer)}function an(e){var o=e.array.slice(e.offset.value,e.offset.value+e.size),B=$e(o);const h=e.lines*e.channels*e.width,f=e.type==1?new Uint16Array(h):new Uint32Array(h);let E=0,I=0;const F=new Array(4);for(let g=0;g<e.lines;g++)for(let M=0;M<e.channels;M++){let D=0;switch(e.type){case 1:F[0]=E,F[1]=F[0]+e.width,E=F[1]+e.width;for(let G=0;G<e.width;++G){const ne=B[F[0]++]<<8|B[F[1]++];D+=ne,f[I]=D,I++}break;case 2:F[0]=E,F[1]=F[0]+e.width,F[2]=F[1]+e.width,E=F[2]+e.width;for(let G=0;G<e.width;++G){const ne=B[F[0]++]<<24|B[F[1]++]<<16|B[F[2]++]<<8;D+=ne,f[I]=D,I++}break}}return new DataView(f.buffer)}function vt(e){var o=e.viewer,B={value:e.offset.value},h=new Uint8Array(e.width*e.lines*(e.channels*e.type*2)),f={version:de(o,B),unknownUncompressedSize:de(o,B),unknownCompressedSize:de(o,B),acCompressedSize:de(o,B),dcCompressedSize:de(o,B),rleCompressedSize:de(o,B),rleUncompressedSize:de(o,B),rleRawSize:de(o,B),totalAcUncompressedCount:de(o,B),totalDcUncompressedCount:de(o,B),acCompression:de(o,B)};if(f.version<2)throw"EXRLoader.parse: "+Qe.compression+" version "+f.version+" is unsupported";for(var E=new Array,I=Pe(o,B)-2;I>0;){var F=ze(o.buffer,B),g=ye(o,B),M=g>>2&3,D=(g>>4)-1,G=new Int8Array([D])[0],ne=ye(o,B);E.push({name:F,index:G,type:ne,compression:M}),I-=F.length+3}for(var J=Qe.channels,L=new Array(e.channels),w=0;w<e.channels;++w){var x=L[w]={},Y=J[w];x.name=Y.name,x.compression=0,x.decoded=!1,x.type=Y.pixelType,x.pLinear=Y.pLinear,x.width=e.width,x.height=e.lines}for(var V={idx:new Array(3)},se=0;se<e.channels;++se)for(var x=L[se],w=0;w<E.length;++w){var Be=E[w];x.name==Be.name&&(x.compression=Be.compression,Be.index>=0&&(V.idx[Be.index]=se),x.offset=se)}if(f.acCompressedSize>0)switch(f.acCompression){case 0:var q=new Uint16Array(f.totalAcUncompressedCount);mt(e.array,o,B,f.acCompressedSize,q,f.totalAcUncompressedCount);break;case 1:var z=e.array.slice(B.value,B.value+f.totalAcUncompressedCount),me=$e(z),q=new Uint16Array(me.buffer);B.value+=f.totalAcUncompressedCount;break}if(f.dcCompressedSize>0){var oe={array:e.array,offset:B,size:f.dcCompressedSize},Fe=new Uint16Array(it(oe).buffer);B.value+=f.dcCompressedSize}if(f.rleRawSize>0){var z=e.array.slice(B.value,B.value+f.rleCompressedSize),me=$e(z),Xe=Gt(me.buffer);B.value+=f.rleCompressedSize}for(var fe=0,j=new Array(L.length),w=0;w<j.length;++w)j[w]=new Array;for(var ce=0;ce<e.lines;++ce)for(var ee=0;ee<L.length;++ee)j[ee].push(fe),fe+=L[ee].width*e.type*2;zt(V,j,L,q,Fe,h);for(var w=0;w<L.length;++w){var x=L[w];if(!x.decoded)switch(x.compression){case 2:for(var Z=0,Ee=0,ce=0;ce<e.lines;++ce){for(var Te=j[w][Z],he=0;he<x.width;++he){for(var Me=0;Me<2*x.type;++Me)h[Te++]=Xe[Ee+Me*x.width*x.height];Ee++}Z++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(h.buffer)}function ze(e,o){for(var B=new Uint8Array(e),h=0;B[o.value+h]!=0;)h+=1;var f=new TextDecoder().decode(B.slice(o.value,o.value+h));return o.value=o.value+h+1,f}function An(e,o,B){var h=new TextDecoder().decode(new Uint8Array(e).slice(o.value,o.value+B));return o.value=o.value+B,h}function cn(e,o){var B=Ke(e,o),h=Ce(e,o);return[B,h]}function Bn(e,o){var B=Ce(e,o),h=Ce(e,o);return[B,h]}function Ke(e,o){var B=e.getInt32(o.value,!0);return o.value=o.value+4,B}function Ce(e,o){var B=e.getUint32(o.value,!0);return o.value=o.value+4,B}function gt(e,o){var B=e[o.value];return o.value=o.value+1,B}function ye(e,o){var B=e.getUint8(o.value);return o.value=o.value+1,B}const de=function(e,o){let B;return"getBigInt64"in DataView.prototype?B=Number(e.getBigInt64(o.value,!0)):B=e.getUint32(o.value+4,!0)+Number(e.getUint32(o.value,!0)<<32),o.value+=8,B};function Ae(e,o){var B=e.getFloat32(o.value,!0);return o.value+=4,B}function ln(e,o){return Oe.toHalfFloat(Ae(e,o))}function T(e){var o=(e&31744)>>10,B=e&1023;return(e>>15?-1:1)*(o?o===31?B?NaN:1/0:Math.pow(2,o-15)*(1+B/1024):6103515625e-14*(B/1024))}function Pe(e,o){var B=e.getUint16(o.value,!0);return o.value+=2,B}function un(e,o){return T(Pe(e,o))}function Cn(e,o,B,h){for(var f=B.value,E=[];B.value<f+h-1;){var I=ze(o,B),F=Ke(e,B),g=ye(e,B);B.value+=3;var M=Ke(e,B),D=Ke(e,B);E.push({name:I,pixelType:F,pLinear:g,xSampling:M,ySampling:D})}return B.value+=1,E}function hn(e,o){var B=Ae(e,o),h=Ae(e,o),f=Ae(e,o),E=Ae(e,o),I=Ae(e,o),F=Ae(e,o),g=Ae(e,o),M=Ae(e,o);return{redX:B,redY:h,greenX:f,greenY:E,blueX:I,blueY:F,whiteX:g,whiteY:M}}function dn(e,o){var B=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],h=ye(e,o);return B[h]}function fn(e,o){var B=Ce(e,o),h=Ce(e,o),f=Ce(e,o),E=Ce(e,o);return{xMin:B,yMin:h,xMax:f,yMax:E}}function En(e,o){var B=["INCREASING_Y"],h=ye(e,o);return B[h]}function pn(e,o){var B=Ae(e,o),h=Ae(e,o);return[B,h]}function mn(e,o){var B=Ae(e,o),h=Ae(e,o),f=Ae(e,o);return[B,h,f]}function Fn(e,o,B,h,f){if(h==="string"||h==="stringvector"||h==="iccProfile")return An(o,B,f);if(h==="chlist")return Cn(e,o,B,f);if(h==="chromaticities")return hn(e,B);if(h==="compression")return dn(e,B);if(h==="box2i")return fn(e,B);if(h==="lineOrder")return En(e,B);if(h==="float")return Ae(e,B);if(h==="v2f")return pn(e,B);if(h==="v3f")return mn(e,B);if(h==="int")return Ke(e,B);if(h==="rational")return cn(e,B);if(h==="timecode")return Bn(e,B);if(h==="preview")return B.value+=f,"skipped";B.value+=f}function In(e,o,B){const h={};if(e.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";h.version=e.getUint8(4);const f=e.getUint8(5);h.spec={singleTile:!!(f&2),longName:!!(f&4),deepFormat:!!(f&8),multiPart:!!(f&16)},B.value=8;for(var E=!0;E;){var I=ze(o,B);if(I==0)E=!1;else{var F=ze(o,B),g=Ce(e,B),M=Fn(e,o,B,F,g);M===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${F}'.`):h[I]=M}}if(f!=0)throw console.error("EXRHeader:",h),"THREE.EXRLoader: provided file is currently unsupported.";return h}function Gn(e,o,B,h,f){const E={size:0,viewer:o,array:B,offset:h,width:e.dataWindow.xMax-e.dataWindow.xMin+1,height:e.dataWindow.yMax-e.dataWindow.yMin+1,channels:e.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:e.channels[0].pixelType,uncompress:null,getter:null,format:null,[Ye?"colorSpace":"encoding"]:null};switch(e.compression){case"NO_COMPRESSION":E.lines=1,E.uncompress=Mt;break;case"RLE_COMPRESSION":E.lines=1,E.uncompress=sn;break;case"ZIPS_COMPRESSION":E.lines=1,E.uncompress=it;break;case"ZIP_COMPRESSION":E.lines=16,E.uncompress=it;break;case"PIZ_COMPRESSION":E.lines=32,E.uncompress=on;break;case"PXR24_COMPRESSION":E.lines=16,E.uncompress=an;break;case"DWAA_COMPRESSION":E.lines=32,E.uncompress=vt;break;case"DWAB_COMPRESSION":E.lines=256,E.uncompress=vt;break;default:throw"EXRLoader.parse: "+e.compression+" is unsupported"}if(E.scanlineBlockSize=E.lines,E.type==1)switch(f){case we:E.getter=un,E.inputSize=2;break;case De:E.getter=Pe,E.inputSize=2;break}else if(E.type==2)switch(f){case we:E.getter=Ae,E.inputSize=4;break;case De:E.getter=ln,E.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+E.type+" for "+e.compression+".";E.blockCount=(e.dataWindow.yMax+1)/E.scanlineBlockSize;for(var I=0;I<E.blockCount;I++)de(o,h);E.outputChannels=E.channels==3?4:E.channels;const F=E.width*E.height*E.outputChannels;switch(f){case we:E.byteArray=new Float32Array(F),E.channels<E.outputChannels&&E.byteArray.fill(1,0,F);break;case De:E.byteArray=new Uint16Array(F),E.channels<E.outputChannels&&E.byteArray.fill(15360,0,F);break;default:console.error("THREE.EXRLoader: unsupported type: ",f);break}return E.bytesPerLine=E.width*E.inputSize*E.channels,E.outputChannels==4?E.format=cr:E.format=Br,Ye?E.colorSpace="srgb-linear":E.encoding=3e3,E}const qe=new DataView(t),Mn=new Uint8Array(t),ke={value:0},Qe=In(qe,t,ke),k=Gn(Qe,qe,Mn,ke,this.type),Dt={value:0},vn={R:0,G:1,B:2,A:3,Y:0};for(let e=0;e<k.height/k.scanlineBlockSize;e++){const o=Ce(qe,ke);k.size=Ce(qe,ke),k.lines=o+k.scanlineBlockSize>k.height?k.height-o:k.scanlineBlockSize;const h=k.size<k.lines*k.bytesPerLine?k.uncompress(k):Mt(k);ke.value+=k.size;for(let f=0;f<k.scanlineBlockSize;f++){const E=f+e*k.scanlineBlockSize;if(E>=k.height)break;for(let I=0;I<k.channels;I++){const F=vn[Qe.channels[I].name];for(let g=0;g<k.width;g++){Dt.value=(f*(k.channels*k.width)+I*k.width+g)*k.inputSize;const M=(k.height-1-E)*(k.width*k.outputChannels)+g*k.outputChannels+F;k.byteArray[M]=k.getter(h,Dt)}}}}return{header:Qe,width:k.width,height:k.height,data:k.byteArray,format:k.format,[Ye?"colorSpace":"encoding"]:k[Ye?"colorSpace":"encoding"],type:this.type}}setDataType(t){return this.type=t,this}load(t,n,a,r){function i(s,c){Ye?s.colorSpace=c.colorSpace:s.encoding=c.encoding,s.minFilter=xe,s.magFilter=xe,s.generateMipmaps=!1,s.flipY=!1,n&&n(s,c)}return super.load(t,i,a,r)}}const ut=new WeakMap;class $r extends Ot{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,n,a,r){const i=new tt(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(t,s=>{const c={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,c).then(n).catch(r)},a,r)}decodeDracoFile(t,n,a,r){const i={attributeIDs:a||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!a};this.decodeGeometry(t,i).then(n)}decodeGeometry(t,n){for(const A in n.attributeTypes){const l=n.attributeTypes[A];l.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[A]=l.name)}const a=JSON.stringify(n);if(ut.has(t)){const A=ut.get(t);if(A.key===a)return A.promise;if(t.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const i=this.workerNextTaskID++,s=t.byteLength,c=this._getWorker(i,s).then(A=>(r=A,new Promise((l,u)=>{r._callbacks[i]={resolve:l,reject:u},r.postMessage({type:"decode",id:i,taskConfig:n,buffer:t},[t])}))).then(A=>this._createGeometry(A.geometry));return c.catch(()=>!0).then(()=>{r&&i&&this._releaseTask(r,i)}),ut.set(t,{key:a,promise:c}),c}_createGeometry(t){const n=new Pt;t.index&&n.setIndex(new We(t.index.array,1));for(let a=0;a<t.attributes.length;a++){const r=t.attributes[a],i=r.name,s=r.array,c=r.itemSize;n.setAttribute(i,new We(s,c))}return n}_loadLibrary(t,n){const a=new tt(this.manager);return a.setPath(this.decoderPath),a.setResponseType(n),a.setWithCredentials(this.withCredentials),new Promise((r,i)=>{a.load(t,r,void 0,i)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const t=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(a=>{const r=a[0];t||(this.decoderConfig.wasmBinary=a[1]);const i=Qr.toString(),s=["/* draco decoder */",r,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(t,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(i){const s=i.data;switch(s.type){case"decode":r._callbacks[s.id].resolve(s);break;case"error":r._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,i){return r._taskLoad>i._taskLoad?-1:1});const a=this.workerPool[this.workerPool.length-1];return a._taskCosts[t]=n,a._taskLoad+=n,a})}_releaseTask(t,n){t._taskLoad-=t._taskCosts[n],delete t._callbacks[n],delete t._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(t=>t._taskLoad))}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this}}function Qr(){let p,t;onmessage=function(s){const c=s.data;switch(c.type){case"init":p=c.decoderConfig,t=new Promise(function(u){p.onModuleLoaded=function(C){u({draco:C})},DracoDecoderModule(p)});break;case"decode":const A=c.buffer,l=c.taskConfig;t.then(u=>{const C=u.draco,d=new C.Decoder,m=new C.DecoderBuffer;m.Init(new Int8Array(A),A.byteLength);try{const v=n(C,d,m,l),H=v.attributes.map(S=>S.array.buffer);v.index&&H.push(v.index.array.buffer),self.postMessage({type:"decode",id:c.id,geometry:v},H)}catch(v){console.error(v),self.postMessage({type:"error",id:c.id,error:v.message})}finally{C.destroy(m),C.destroy(d)}});break}};function n(s,c,A,l){const u=l.attributeIDs,C=l.attributeTypes;let d,m;const v=c.GetEncodedGeometryType(A);if(v===s.TRIANGULAR_MESH)d=new s.Mesh,m=c.DecodeBufferToMesh(A,d);else if(v===s.POINT_CLOUD)d=new s.PointCloud,m=c.DecodeBufferToPointCloud(A,d);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||d.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const H={index:null,attributes:[]};for(const S in u){const b=self[C[S]];let P,R;if(l.useUniqueIDs)R=u[S],P=c.GetAttributeByUniqueId(d,R);else{if(R=c.GetAttributeId(d,s[u[S]]),R===-1)continue;P=c.GetAttribute(d,R)}H.attributes.push(r(s,c,d,S,b,P))}return v===s.TRIANGULAR_MESH&&(H.index=a(s,c,d)),s.destroy(d),H}function a(s,c,A){const u=A.num_faces()*3,C=u*4,d=s._malloc(C);c.GetTrianglesUInt32Array(A,C,d);const m=new Uint32Array(s.HEAPF32.buffer,d,u).slice();return s._free(d),{array:m,itemSize:1}}function r(s,c,A,l,u,C){const d=C.num_components(),v=A.num_points()*d,H=v*u.BYTES_PER_ELEMENT,S=i(s,u),b=s._malloc(H);c.GetAttributeDataArrayForAllPoints(A,C,S,H,b);const P=new u(s.HEAPF32.buffer,b,v).slice();return s._free(b),{name:l,array:P,itemSize:d}}function i(s,c){switch(c){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}let et;const es=()=>{if(et)return et;const p="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",t="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",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),a=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let r=p;WebAssembly.validate(n)&&(r=t);let i;const s=WebAssembly.instantiate(c(r),{}).then(C=>{i=C.instance,i.exports.__wasm_call_ctors()});function c(C){const d=new Uint8Array(C.length);for(let v=0;v<C.length;++v){const H=C.charCodeAt(v);d[v]=H>96?H-71:H>64?H-65:H>47?H+4:H>46?63:62}let m=0;for(let v=0;v<C.length;++v)d[m++]=d[v]<60?a[d[v]]:(d[v]-60)*64+d[++v];return d.buffer.slice(0,m)}function A(C,d,m,v,H,S){const b=i.exports.sbrk,P=m+3&-4,R=b(P*v),U=b(H.length),X=new Uint8Array(i.exports.memory.buffer);X.set(H,U);const O=C(R,m,v,U,H.length);if(O===0&&S&&S(R,P,v),d.set(X.subarray(R,R+m*v)),b(R-b(0)),O!==0)throw new Error(`Malformed buffer data: ${O}`)}const l={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return et={ready:s,supported:!0,decodeVertexBuffer(C,d,m,v,H){A(i.exports.meshopt_decodeVertexBuffer,C,d,m,v,i.exports[l[H]])},decodeIndexBuffer(C,d,m,v){A(i.exports.meshopt_decodeIndexBuffer,C,d,m,v)},decodeIndexSequence(C,d,m,v){A(i.exports.meshopt_decodeIndexSequence,C,d,m,v)},decodeGltfBuffer(C,d,m,v,H,S){A(i.exports[u[H]],C,d,m,v,i.exports[l[S]])}},et};export{$r as D,qr as E,jr as G,Wr as H,es as M,zr as R,Vr as V,Yr as a};
//# sourceMappingURL=three-stdlib-9905abc4.js.map
