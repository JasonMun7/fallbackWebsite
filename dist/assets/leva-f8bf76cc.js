import"./react-dom-8cac2ab3.js";import{r as d,R as s}from"./react-915dfabc.js";import{$ as St,a as Ot,b as Tt,c as kt,d as _t}from"./@radix-ui-9902ac21.js";import{d as Ue}from"./dequal-2f00b72c.js";import{s as He,c as Pt,a as It}from"./zustand-7d50ec68.js";import{v as D}from"./v8n-1efe826f.js";import{q as zt}from"./@stitches-e6a7bcb8.js";import{a as Nt}from"./@use-gesture-de1e5650.js";import{k as Dt,w as X,n as jt,I as Mt}from"./colord-75eb7363.js";import{C as Vt,N as At}from"./react-colorful-7f41e938.js";import{u as Lt}from"./react-dropzone-3571d6d8.js";import{m as Ut}from"./merge-value-9783d3b1.js";function Ht(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,a;for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function R(e,t){if(e==null)return{};var n=Ht(e,t),o,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}let O;(function(e){e[e.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",e[e.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",e[e.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",e[e.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",e[e.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",e[e.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",e[e.THEME_ERROR=6]="THEME_ERROR",e[e.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",e[e.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",e[e.EMPTY_KEY=9]="EMPTY_KEY"})(O||(O={}));const Wt={[O.UNSUPPORTED_INPUT]:(e,t)=>[`An input with type \`${e}\` input was found at path \`${t}\` but it's not supported yet.`],[O.NO_COMPONENT_FOR_TYPE]:(e,t)=>[`Type \`${e}\` found at path \`${t}\` can't be displayed in panel because no component supports it yet.`],[O.UNKNOWN_INPUT]:(e,t)=>[`input at path \`${e}\` is not recognized.`,t],[O.DUPLICATE_KEYS]:(e,t,n)=>[`Key \`${e}\` of path \`${t}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[O.ALREADY_REGISTERED_TYPE]:e=>[`Type ${e} has already been registered. You can't register a component with the same type.`],[O.CLIPBOARD_ERROR]:e=>["Error copying the value",e],[O.THEME_ERROR]:(e,t)=>[`Error accessing the theme \`${e}.${t}\` value.`],[O.PATH_DOESNT_EXIST]:e=>[`Error getting the value at path \`${e}\`. There is probably an error in your \`render\` function.`],[O.PATH_DOESNT_EXIST]:e=>[`Error accessing the value at path \`${e}\``],[O.INPUT_TYPE_OVERRIDE]:(e,t,n)=>[`Input at path \`${e}\` already exists with type: \`${t}\`. Its type cannot be overridden with type \`${n}\`.`],[O.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function We(e,t,...n){const[o,...r]=Wt[t](...n);console[e]("LEVA: "+o,...r)}const L=We.bind(null,"warn"),Ft=We.bind(null,"log"),Bt=["value"],Gt=["schema"],Yt=["value"],Fe=[],Y={};function Re(e){let{value:t}=e,n=R(e,Bt);for(let o of Fe){const r=o(t,n);if(r)return r}}function H(e,t){let{schema:n}=t,o=R(t,Gt);if(e in Y){L(O.ALREADY_REGISTERED_TYPE,e);return}Fe.push((r,a)=>n(r,a)&&e),Y[e]=o}function fe(e,t,n,o){const{normalize:r}=Y[e];if(r)return r(t,n,o);if(typeof t!="object"||!("value"in t))return{value:t};const{value:a}=t,i=R(t,Yt);return{value:a,settings:i}}function Kt(e,t,n,o,r,a){const{sanitize:i}=Y[e];return i?i(t,n,o,r,a):t}function Se(e,t,n){const{format:o}=Y[e];return o?o(t,n):t}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oe(Object(n),!0).forEach(function(o){Xt(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}const B=(e,t,n)=>e>n?n:e<t?t:e,Jt=e=>{if(e===""||typeof e=="number")return e;try{const t=F(e);if(!isNaN(t))return t}catch{}return parseFloat(e)},qt=Math.log(10);function Te(e){let t=Math.abs(+String(e).replace(".",""));if(t===0)return .01;for(;t!==0&&t%10===0;)t/=10;const n=Math.floor(Math.log(t)/qt)+1,o=Math.floor(Math.log10(Math.abs(e))),r=Math.pow(10,o-n);return Math.max(r,.001)}const te=(e,t,n)=>n===t?0:(B(e,t,n)-t)/(n-t),ne=(e,t,n)=>e*(n-t)+t,Zt=()=>"_"+Math.random().toString(36).substr(2,9),ke=/\(([0-9+\-*/^ .]+)\)/,_e=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,Pe=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,Ie=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,ze=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,Ne=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function F(e){if(isNaN(Number(e)))if(ke.test(e)){const t=e.replace(ke,(n,o)=>String(F(o)));return F(t)}else if(_e.test(e)){const t=e.replace(_e,(n,o,r)=>String(Math.pow(Number(o),Number(r))));return F(t)}else if(Pe.test(e)){const t=e.replace(Pe,(n,o,r)=>String(Number(o)*Number(r)));return F(t)}else if(Ie.test(e)){const t=e.replace(Ie,(n,o,r)=>{if(r!=0)return String(Number(o)/Number(r));throw new Error("Division by zero")});return F(t)}else if(ze.test(e)){const t=e.replace(ze,(n,o,r)=>String(Number(o)+Number(r)));return F(t)}else if(Ne.test(e)){const t=e.replace(Ne,(n,o,r)=>String(Number(o)-Number(r)));return F(t)}else return Number(e);return Number(e)}function Qt(e,t){const n=$({},e);return t.forEach(o=>o in e&&delete n[o]),n}function en(e,t){return e.reduce((n,o,r)=>Object.assign(n,{[t[r]]:o}),{})}function Be(e){return Object.prototype.toString.call(e)==="[object Object]"}const tn=e=>Be(e)&&Object.keys(e).length===0;let A;(function(e){e.BUTTON="BUTTON",e.BUTTON_GROUP="BUTTON_GROUP",e.MONITOR="MONITOR",e.FOLDER="FOLDER"})(A||(A={}));let M;(function(e){e.SELECT="SELECT",e.IMAGE="IMAGE",e.NUMBER="NUMBER",e.COLOR="COLOR",e.STRING="STRING",e.BOOLEAN="BOOLEAN",e.INTERVAL="INTERVAL",e.VECTOR3D="VECTOR3D",e.VECTOR2D="VECTOR2D"})(M||(M={}));const nn=["type","__customInput"],on=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],rn=["type"];function Ge(e,t,n={},o){var r,a;if(typeof e!="object"||Array.isArray(e))return{type:o,input:e,options:$({key:t,label:t,optional:!1,disabled:!1,order:0},n)};if("__customInput"in e){const{type:_,__customInput:C}=e,S=R(e,nn);return Ge(C,t,S,_)}const{render:i,label:c,optional:l,order:u=0,disabled:f,hint:p,onChange:h,onEditStart:v,onEditEnd:g,transient:m}=e,y=R(e,on),w=$({render:i,key:t,label:c??t,hint:p,transient:m??!!h,onEditStart:v,onEditEnd:g,disabled:f,optional:l,order:u},n);let{type:E}=y,x=R(y,rn);if(E=o??E,E in A)return{type:E,input:x,options:w};let T;return o&&Be(x)&&"value"in x?T=x.value:T=tn(x)?void 0:x,{type:E,input:T,options:$($({},w),{},{onChange:h,optional:(r=w.optional)!==null&&r!==void 0?r:!1,disabled:(a=w.disabled)!==null&&a!==void 0?a:!1})}}function sn(e,t,n,o){const r=Ge(e,t),{type:a,input:i,options:c}=r;if(a)return a in A?r:{type:a,input:fe(a,i,n,o),options:c};let l=Re(i);return l?{type:l,input:fe(l,i,n,o),options:c}:(l=Re({value:i}),l?{type:l,input:fe(l,{value:i},n,o),options:c}:!1)}function De(e,t,n,o,r){const{value:a,type:i,settings:c}=e;e.value=Ye({type:i,value:a,settings:c},t,n,o),e.fromPanel=r}const an=function(t,n,o){this.type="LEVA_ERROR",this.message="LEVA: "+t,this.previousValue=n,this.error=o};function Ye({type:e,value:t,settings:n},o,r,a){const i=e!=="SELECT"&&typeof o=="function"?o(t):o;let c;try{c=Kt(e,i,n,t,r,a)}catch(l){throw new an(`The value \`${o}\` did not result in a correct value.`,t,l)}return Ue(c,t)?t:c}const Ke=(e,t,n=!1)=>{let o=0;return function(){const r=arguments,a=n&&!o,i=()=>e.apply(this,r);window.clearTimeout(o),o=window.setTimeout(i,t),a&&i()}},Xe=e=>e.shiftKey?5:e.altKey?1/5:1,ln=["value"],cn=["min","max"],un=e=>{if(typeof e=="number")return!0;if(typeof e=="string"){const t=parseFloat(e);return isNaN(t)?!1:e.substring((""+t).length).trim().length<4}return!1},Je=(e,{min:t=-1/0,max:n=1/0,suffix:o})=>{const r=parseFloat(e);if(e===""||isNaN(r))throw Error("Invalid number");const a=B(r,t,n);return o?a+o:a},dn=(e,{pad:t=0,suffix:n})=>{const o=parseFloat(e).toFixed(t);return n?o+n:o},qe=e=>{let{value:t}=e,n=R(e,ln);const{min:o=-1/0,max:r=1/0}=n,a=R(n,cn);let i=parseFloat(t);const c=typeof t=="string"?t.substring((""+i).length):void 0;i=B(i,o,r);let l=n.step;l||(Number.isFinite(o)?Number.isFinite(r)?l=+(Math.abs(r-o)/100).toPrecision(1):l=+(Math.abs(i-o)/100).toPrecision(1):Number.isFinite(r)&&(l=+(Math.abs(r-i)/100).toPrecision(1)));const u=l?Te(l)*10:Te(i);l=l||u/10;const f=Math.round(B(Math.log10(1/u),0,2));return{value:c?i+c:i,settings:$({initialValue:i,step:l,pad:f,min:o,max:r,suffix:c},a)}},Ze=(e,{step:t,initialValue:n})=>{const o=Math.round((e-n)/t);return n+o*t};var Qe=Object.freeze({__proto__:null,schema:un,sanitize:Je,format:dn,normalize:qe,sanitizeStep:Ze});function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},k.apply(this,arguments)}const et=d.createContext({});function P(){return d.useContext(et)}const tt=d.createContext(null),nt=d.createContext(null),ot=d.createContext(null);function Z(){return d.useContext(nt)}function fn(){return d.useContext(ot)}const pn=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function ee(e,t){const[n,o]=e.split(" "),r={};return n!=="none"&&(r.boxShadow=`${t.inset?"inset ":""}0 0 0 $borderWidths${[t.key]} $colors${n!=="default"&&n||t.borderColor}`),o&&(r.backgroundColor=o),r}const J={$inputStyle:()=>e=>ee(e,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>e=>ee(e,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>e=>ee(e,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>e=>ee(e,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:b,css:ai,createTheme:li,globalCss:hn,keyframes:ci}=zt({prefix:"leva",theme:pn(),utils:$($({},J),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:e=>({"&:focus":J.$focusStyle()(e)}),$focusWithin:e=>({"&:focus-within":J.$focusStyle()(e)}),$hover:e=>({"&:hover":J.$hoverStyle()(e)}),$active:e=>({"&:active":J.$activeStyle()(e)})})}),gn=hn({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function U(e,t){const{theme:n}=d.useContext(tt);if(!(e in n)||!(t in n[e]))return L(O.THEME_ERROR,e,t),"";let o=t;for(;;){let r=n[e][o];if(typeof r=="string"&&r.charAt(0)==="$")o=r.substr(1);else return r}}const rt=b("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),it=b("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${rt}`]:{paddingLeft:0}}),mn=b(it,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),bn=b("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),vn=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],$n=["onUpdate"];function ve(e){let{innerLabel:t,value:n,onUpdate:o,onChange:r,onKeyDown:a,type:i,id:c,inputType:l="text",rows:u=0}=e,f=R(e,vn);const{id:p,emitOnEditStart:h,emitOnEditEnd:v,disabled:g}=P(),m=c||p,y=d.useRef(null),w=u>0,E=w?"textarea":"input",x=d.useCallback(C=>S=>{const z=S.currentTarget.value;C(z)},[]);s.useEffect(()=>{const C=y.current,S=x(z=>{o(z),v()});return C==null||C.addEventListener("blur",S),()=>C==null?void 0:C.removeEventListener("blur",S)},[x,o,v]);const T=d.useCallback(C=>{C.key==="Enter"&&x(o)(C)},[x,o]),_=Object.assign({as:E},w?{rows:u}:{},f);return s.createElement(bn,{textArea:w},t&&typeof t=="string"?s.createElement(it,null,t):t,s.createElement(rt,k({levaType:i,ref:y,id:m,type:l,autoComplete:"off",spellCheck:"false",value:n,onChange:x(r),onFocus:()=>h(),onKeyPress:T,onKeyDown:a,disabled:g},_)))}function En(e){let{onUpdate:t}=e,n=R(e,$n);const o=d.useCallback(a=>t(Jt(a)),[t]),r=d.useCallback(a=>{const i=a.key==="ArrowUp"?1:a.key==="ArrowDown"?-1:0;if(i){a.preventDefault();const c=a.altKey?.1:a.shiftKey?10:1;t(l=>parseFloat(l)+i*c)}},[t]);return s.createElement(ve,k({},n,{onUpdate:o,onKeyDown:r,type:"number"}))}const oe=b("div",{}),he=b("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),yn=b("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${he}::after`]:{opacity:.6},[`${oe}:hover > & + ${he}::after`]:{opacity:.6},[`${oe}:hover > & > svg`]:{opacity:1}}),st=b("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${oe}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),at=b("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${st} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),lt=b(at,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),wn=b("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),Cn=b("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),ge=b("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),xn=b("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${ge}`]:{pointerEvents:"auto"}}}}}),ct=b("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),Rn=b("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Sn=b(St,{fill:"$toolTipBackground"});function $e({children:e}){const{className:t}=d.useContext(tt);return s.createElement(Ot,{className:t},e)}const On=["align"];function Tn(){const{id:e,disable:t,disabled:n}=P();return s.createElement(s.Fragment,null,s.createElement(Cn,{id:e+"__disable",type:"checkbox",checked:!n,onChange:()=>t(!n)}),s.createElement("label",{htmlFor:e+"__disable"}))}function kn(e){const{id:t,optional:n,hint:o}=P(),r=e.htmlFor||(t?{htmlFor:t}:null),a=!o&&typeof e.children=="string"?{title:e.children}:null;return s.createElement(s.Fragment,null,n&&s.createElement(Tn,null),o!==void 0?s.createElement(Tt,null,s.createElement(kt,{asChild:!0},s.createElement(ge,k({},r,e))),s.createElement(_t,{side:"top",sideOffset:2},s.createElement(Rn,null,o,s.createElement(Sn,null)))):s.createElement(ge,k({},r,a,e)))}function V(e){let{align:t}=e,n=R(e,On);const{value:o,label:r,key:a,disabled:i}=P(),{hideCopyButton:c}=fn(),l=!c&&a!==void 0,[u,f]=d.useState(!1),p=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[a]:o??""})),f(!0)}catch{L(O.CLIPBOARD_ERROR,{[a]:o})}};return s.createElement(wn,{align:t,onPointerLeave:()=>f(!1)},s.createElement(kn,n),l&&!i&&s.createElement("div",{title:`Click to copy ${typeof r=="string"?r:a} value`},u?s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),s.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):s.createElement("svg",{onClick:p,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),s.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const _n=["toggled"],Pn=b("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function Ee(e){let{toggled:t}=e,n=R(e,_n);return s.createElement(Pn,k({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${t?0:-90}deg)`}},n),s.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const In=["input"];function j(e){let{input:t}=e,n=R(e,In);return t?s.createElement(lt,n):s.createElement(at,n)}function ut({value:e,type:t,settings:n,setValue:o}){const[r,a]=d.useState(Se(t,e,n)),i=d.useRef(e),c=d.useRef(n);c.current=n;const l=d.useCallback(f=>a(Se(t,f,c.current)),[t]),u=d.useCallback(f=>{try{o(f)}catch(p){const{type:h,previousValue:v}=p;if(h!=="LEVA_ERROR")throw p;l(v)}},[l,o]);return d.useEffect(()=>{Ue(e,i.current)||l(e),i.current=e},[e,l]),{displayValue:r,onChange:a,onUpdate:u}}function Q(e,t){const{emitOnEditStart:n,emitOnEditEnd:o}=P();return Nt(r=>{r.first&&(document.body.classList.add("leva__panel__dragged"),n==null||n());const a=e(r);return r.last&&(document.body.classList.remove("leva__panel__dragged"),o==null||o()),a},t)}function zn(e){const t=d.useRef(null),n=d.useRef(null),o=d.useRef(!1);return d.useEffect(()=>{const r=Ke(()=>{t.current.width=t.current.offsetWidth*window.devicePixelRatio,t.current.height=t.current.offsetHeight*window.devicePixelRatio,e(t.current,n.current)},250);return window.addEventListener("resize",r),o.current||(r(),o.current=!0),()=>window.removeEventListener("resize",r)},[e]),d.useEffect(()=>{n.current=t.current.getContext("2d")},[]),[t,n]}function dt(){const e=d.useRef(null),t=d.useRef({x:0,y:0}),n=d.useCallback(o=>{Object.assign(t.current,o),e.current&&(e.current.style.transform=`translate3d(${t.current.x}px, ${t.current.y}px, 0)`)},[]);return[e,n]}const Nn=["__refCount"],pe=(e,t)=>{if(!e[t])return null;const n=e[t];return R(n,Nn)};function Dn(e){const t=Z(),[n,o]=d.useState(pe(t.getData(),e)),r=d.useCallback(u=>t.setValueAtPath(e,u,!0),[e,t]),a=d.useCallback(u=>t.setSettingsAtPath(e,u),[e,t]),i=d.useCallback(u=>t.disableInputAtPath(e,u),[e,t]),c=d.useCallback(()=>t.emitOnEditStart(e),[e,t]),l=d.useCallback(()=>t.emitOnEditEnd(e),[e,t]);return d.useEffect(()=>{o(pe(t.getData(),e));const u=t.useStore.subscribe(f=>pe(f.data,e),o,{equalityFn:He});return()=>u()},[t,e]),[n,{set:r,setSettings:a,disable:i,storeId:t.storeId,emitOnEditStart:c,emitOnEditEnd:l}]}const jn=b("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),ft=b("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),me=b("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),pt=b("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),ht=b("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function Mn({value:e,min:t,max:n,onDrag:o,step:r,initialValue:a}){const i=d.useRef(null),c=d.useRef(null),l=d.useRef(0),u=U("sizes","scrubberWidth"),f=Q(({event:h,first:v,xy:[g],movement:[m],memo:y})=>{if(v){const{width:E,left:x}=i.current.getBoundingClientRect();l.current=E-parseFloat(u),y=(h==null?void 0:h.target)===c.current?e:ne((g-x)/E,t,n)}const w=y+ne(m/l.current,0,n-t);return o(Ze(w,{step:r,initialValue:a})),y}),p=te(e,t,n);return s.createElement(pt,k({ref:i},f()),s.createElement(ft,null,s.createElement(ht,{style:{left:0,right:`${(1-p)*100}%`}})),s.createElement(me,{ref:c,style:{left:`calc(${p} * (100% - ${u}))`}}))}const Vn=s.memo(({label:e,onUpdate:t,step:n,innerLabelTrim:o})=>{const[r,a]=d.useState(!1),i=Q(({active:c,delta:[l],event:u,memo:f=0})=>(a(c),f+=l/2,Math.abs(f)>=1&&(t(p=>parseFloat(p)+Math.floor(f)*n*Xe(u)),f=0),f));return s.createElement(mn,k({dragging:r,title:e.length>1?e:""},i()),e.slice(0,o))});function gt({label:e,id:t,displayValue:n,onUpdate:o,onChange:r,settings:a,innerLabelTrim:i=1}){const c=i>0&&s.createElement(Vn,{label:e,step:a.step,onUpdate:o,innerLabelTrim:i});return s.createElement(En,{id:t,value:String(n),onUpdate:o,onChange:r,innerLabel:c})}function An(){const e=P(),{label:t,value:n,onUpdate:o,settings:r,id:a}=e,{min:i,max:c}=r,l=c!==1/0&&i!==-1/0;return s.createElement(j,{input:!0},s.createElement(V,null,t),s.createElement(jn,{hasRange:l},l&&s.createElement(Mn,k({value:parseFloat(n),onDrag:o},r)),s.createElement(gt,k({},e,{id:a,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:Ln}=Qe,Un=R(Qe,["sanitizeStep"]);var Hn=$({component:An},Un);const Wn=(e,t)=>D().schema({options:D().passesAnyOf(D().object(),D().array())}).test(t),Fn=(e,{values:t})=>{if(t.indexOf(e)<0)throw Error("Selected value doesn't match Select options");return e},Bn=(e,{values:t})=>t.indexOf(e),Gn=e=>{let{value:t,options:n}=e,o,r;return Array.isArray(n)?(r=n,o=n.map(a=>String(a))):(r=Object.values(n),o=Object.keys(n)),"value"in e?r.includes(t)||(o.unshift(String(t)),r.unshift(t)):t=r[0],Object.values(n).includes(t)||(n[String(t)]=t),{value:t,settings:{keys:o,values:r}}};var Yn=Object.freeze({__proto__:null,schema:Wn,sanitize:Fn,format:Bn,normalize:Gn});const Kn=b("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),be=b("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),Xn=b("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${be}:focus + &`]:{$focusStyle:""},[`${be}:hover + &`]:{$hoverStyle:""}});function Jn({displayValue:e,value:t,onUpdate:n,id:o,settings:r,disabled:a}){const{keys:i,values:c}=r,l=d.useRef();return t===c[e]&&(l.current=i[e]),s.createElement(Kn,null,s.createElement(be,{id:o,value:e,onChange:u=>n(c[Number(u.currentTarget.value)]),disabled:a},i.map((u,f)=>s.createElement("option",{key:u,value:f},u))),s.createElement(Xn,null,l.current),s.createElement(Ee,{toggled:!0}))}function qn(){const{label:e,value:t,displayValue:n,onUpdate:o,id:r,disabled:a,settings:i}=P();return s.createElement(j,{input:!0},s.createElement(V,null,e),s.createElement(Jn,{id:r,value:t,displayValue:n,onUpdate:o,settings:i,disabled:a}))}var Zn=$({component:qn},Yn);const Qn=e=>D().string().test(e),eo=e=>{if(typeof e!="string")throw Error("Invalid string");return e},to=({value:e,editable:t=!0,rows:n=!1})=>({value:e,settings:{editable:t,rows:typeof n=="number"?n:n?5:0}});var no=Object.freeze({__proto__:null,schema:Qn,sanitize:eo,normalize:to});const oo=["displayValue","onUpdate","onChange","editable"],ro=b("div",{whiteSpace:"pre-wrap"});function io(e){let{displayValue:t,onUpdate:n,onChange:o,editable:r=!0}=e,a=R(e,oo);return r?s.createElement(ve,k({value:t,onUpdate:n,onChange:o},a)):s.createElement(ro,null,t)}function so(){const{label:e,settings:t,displayValue:n,onUpdate:o,onChange:r}=P();return s.createElement(j,{input:!0},s.createElement(V,null,e),s.createElement(io,k({displayValue:n,onUpdate:o,onChange:r},t)))}var ao=$({component:so},no);const lo=e=>D().boolean().test(e),co=e=>{if(typeof e!="boolean")throw Error("Invalid boolean");return e};var uo=Object.freeze({__proto__:null,schema:lo,sanitize:co});const fo=b("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function po({value:e,onUpdate:t,id:n,disabled:o}){return s.createElement(fo,null,s.createElement("input",{id:n,type:"checkbox",checked:e,onChange:r=>t(r.currentTarget.checked),disabled:o}),s.createElement("label",{htmlFor:n},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function ho(){const{label:e,value:t,onUpdate:n,disabled:o,id:r}=P();return s.createElement(j,{input:!0},s.createElement(V,null,e),s.createElement(po,{value:t,onUpdate:n,id:r,disabled:o}))}var go=$({component:ho},uo);const mo=["locked"];function bo({value:e,id:t,valueKey:n,settings:o,onUpdate:r,innerLabelTrim:a}){const i=d.useRef(e[n]);i.current=e[n];const c=d.useCallback(u=>r({[n]:Ye({type:"NUMBER",value:i.current,settings:o},u)}),[r,o,n]),l=ut({type:"NUMBER",value:e[n],settings:o,setValue:c});return s.createElement(gt,{id:t,label:n,value:e[n],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:o,innerLabelTrim:a})}const vo=b("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function $o(e){let{locked:t}=e,n=R(e,mo);return s.createElement("svg",k({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),t?s.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):s.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function ye({value:e,onUpdate:t,settings:n,innerLabelTrim:o}){const{id:r,setSettings:a}=P(),{lock:i,locked:c}=n;return s.createElement(vo,{withLock:i},i&&s.createElement($o,{locked:c,onClick:()=>a({locked:!c})}),Object.keys(e).map((l,u)=>s.createElement(bo,{id:u===0?r:`${r}.${l}`,key:l,valueKey:l,value:e,settings:n[l],onUpdate:t,innerLabelTrim:o})))}const mt=(e,t)=>{const n={};let o=0,r=1/0;Object.entries(e).forEach(([a,i])=>{n[a]=qe($({value:i},t[a])).settings,o=Math.max(o,n[a].step),r=Math.min(r,n[a].pad)});for(let a in n){const{step:i,min:c,max:l}=t[a]||{};!isFinite(i)&&(!isFinite(c)||!isFinite(l))&&(n[a].step=o,n[a].pad=r)}return n},Eo=["lock"],yo=["value"];function wo(e){const t=D().array().length(e).every.number(),n=o=>{if(!o||typeof o!="object")return!1;const r=Object.values(o);return r.length===e&&r.every(a=>isFinite(a))};return o=>t.test(o)||n(o)}function Co(e){return Array.isArray(e)?"array":"object"}function q(e,t,n){return Co(e)===t?e:t==="array"?Object.values(e):en(e,n)}const xo=(e,t,n)=>{const o=q(e,"object",t.keys);for(let i in o)o[i]=Je(o[i],t[i]);const r=Object.keys(o);let a={};if(r.length===t.keys.length)a=o;else{const i=q(n,"object",t.keys);if(r.length===1&&t.locked){const c=r[0],l=o[c],u=i[c],f=u!==0?l/u:1;for(let p in i)p===c?a[c]=l:a[p]=i[p]*f}else a=$($({},i),o)}return q(a,t.format,t.keys)},Ro=(e,t)=>q(e,"object",t.keys),So=e=>!!e&&("step"in e||"min"in e||"max"in e);function Oo(e,t,n=[]){const{lock:o=!1}=t,r=R(t,Eo),a=Array.isArray(e)?"array":"object",i=a==="object"?Object.keys(e):n,c=q(e,"object",i),l=So(r)?i.reduce((f,p)=>Object.assign(f,{[p]:r}),{}):r,u=mt(c,l);return{value:a==="array"?e:c,settings:$($({},u),{},{format:a,keys:i,lock:o,locked:!1})}}function bt(e){return{schema:wo(e.length),normalize:t=>{let{value:n}=t,o=R(t,yo);return Oo(n,o,e)},format:(t,n)=>Ro(t,n),sanitize:(t,n,o)=>xo(t,n,o)}}const we=(...e)=>e.filter(Boolean).join(".");function To(e){const t=e.split(".");return[t.pop(),t.join(".")||void 0]}function ko(e){const t=d.useRef(null),n=d.useRef(null),o=d.useRef(!0);return d.useLayoutEffect(()=>{e||(t.current.style.height="0px",t.current.style.overflow="hidden")},[]),d.useEffect(()=>{if(o.current){o.current=!1;return}let r;const a=t.current,i=()=>{e&&(a.style.removeProperty("height"),a.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};a.addEventListener("transitionend",i,{once:!0});const{height:c}=n.current.getBoundingClientRect();return a.style.height=c+"px",e||(a.style.overflow="hidden",r=window.setTimeout(()=>a.style.height="0px",50)),()=>{a.removeEventListener("transitionend",i),clearTimeout(r)}},[e]),{wrapperRef:t,contentRef:n}}const _o=e=>{const[t,n]=d.useState(e.getVisiblePaths());return d.useEffect(()=>{n(e.getVisiblePaths());const o=e.useStore.subscribe(e.getVisiblePaths,n,{equalityFn:He});return()=>o()},[e]),t};function vt(e=3){const t=d.useRef(null),n=d.useRef(null),[o,r]=d.useState(!1),a=d.useCallback(()=>r(!0),[]),i=d.useCallback(()=>r(!1),[]);return d.useLayoutEffect(()=>{if(o){const{bottom:c,top:l,left:u}=t.current.getBoundingClientRect(),{height:f}=n.current.getBoundingClientRect(),p=c+f>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=u+"px",p==="down"?n.current.style.top=c+e+"px":n.current.style.bottom=window.innerHeight-l+e+"px"}},[e,o]),{popinRef:t,wrapperRef:n,shown:o,show:a,hide:i}}Dt([jt]);const Po={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};D.extend({color:()=>e=>X(e).isValid()});const Io=e=>D().color().test(e);function $t(e,{format:t,hasAlpha:n,isString:o}){const r=Po[t]+(o&&t!=="hex"?"String":""),a=e[r]();return typeof a=="object"&&!n?Qt(a,["a"]):a}const Et=(e,t)=>{const n=X(e);if(!n.isValid())throw Error("Invalid color");return $t(n,t)},zo=(e,t)=>$t(X(e),$($({},t),{},{isString:!0,format:"hex"})),No=({value:e})=>{const t=Mt(e),n=t==="name"?"hex":t,o=typeof e=="object"?"a"in e:t==="hex"&&e.length===8||/^(rgba)|(hsla)|(hsva)/.test(e),r={format:n,hasAlpha:o,isString:typeof e=="string"};return{value:Et(e,r),settings:r}};var Do=Object.freeze({__proto__:null,schema:Io,sanitize:Et,format:zo,normalize:No});const jo=b("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),Mo=b("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Vo=b("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function je(e,t){return t!=="rgb"?X(e).toRgb():e}function Ao({value:e,displayValue:t,settings:n,onUpdate:o}){const{emitOnEditStart:r,emitOnEditEnd:a}=P(),{format:i,hasAlpha:c}=n,{popinRef:l,wrapperRef:u,shown:f,show:p,hide:h}=vt(),v=d.useRef(0),[g,m]=d.useState(()=>je(e,i)),y=c?Vt:At,w=()=>{m(je(e,i)),p(),r()},E=()=>{h(),a(),window.clearTimeout(v.current)},x=()=>{v.current=window.setTimeout(E,500)};return d.useEffect(()=>()=>window.clearTimeout(v.current),[]),s.createElement(s.Fragment,null,s.createElement(jo,{ref:l,active:f,onClick:()=>w(),style:{color:t}}),f&&s.createElement($e,null,s.createElement(ct,{onPointerUp:E}),s.createElement(Vo,{ref:u,onMouseEnter:()=>window.clearTimeout(v.current),onMouseLeave:T=>T.buttons===0&&x()},s.createElement(y,{color:g,onChange:o}))))}function Lo(){const{value:e,displayValue:t,label:n,onChange:o,onUpdate:r,settings:a}=P();return s.createElement(j,{input:!0},s.createElement(V,null,n),s.createElement(Mo,null,s.createElement(Ao,{value:e,displayValue:t,onChange:o,onUpdate:r,settings:a}),s.createElement(ve,{value:t,onChange:o,onUpdate:r})))}var Uo=$({component:Lo},Do);function Ho(){const{label:e,displayValue:t,onUpdate:n,settings:o}=P();return s.createElement(j,{input:!0},s.createElement(V,null,e),s.createElement(ye,{value:t,settings:o,onUpdate:n}))}var Wo=$({component:Ho},bt(["x","y","z"]));const Fo=b("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),Bo=b("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Go({value:e,settings:t,onUpdate:n}){const o=d.useRef(),r=d.useRef(0),a=d.useRef(0),i=d.useRef(1),[c,l]=d.useState(!1),[u,f]=d.useState(!1),[p,h]=dt(),v=d.useRef(null),g=d.useRef(null);d.useLayoutEffect(()=>{if(c){const{top:N,left:W,width:K,height:ae}=v.current.getBoundingClientRect();g.current.style.left=W+K/2+"px",g.current.style.top=N+ae/2+"px"}},[c]);const{keys:[m,y],joystick:w}=t,E=w==="invertY"?1:-1,{[m]:{step:x},[y]:{step:T}}=t,_=U("sizes","joystickWidth"),C=U("sizes","joystickHeight"),S=parseFloat(_)*.8/2,z=parseFloat(C)*.8/2,G=d.useCallback(()=>{o.current||(f(!0),r.current&&h({x:r.current*S}),a.current&&h({y:a.current*-z}),o.current=window.setInterval(()=>{n(N=>{const W=x*r.current*i.current,K=E*T*a.current*i.current;return Array.isArray(N)?{[m]:N[0]+W,[y]:N[1]+K}:{[m]:N[m]+W,[y]:N[y]+K}})},16))},[S,z,n,h,x,T,m,y,E]),I=d.useCallback(()=>{window.clearTimeout(o.current),o.current=void 0,f(!1)},[]);d.useEffect(()=>{function N(W){i.current=Xe(W)}return window.addEventListener("keydown",N),window.addEventListener("keyup",N),()=>{window.clearTimeout(o.current),window.removeEventListener("keydown",N),window.removeEventListener("keyup",N)}},[]);const se=Q(({first:N,active:W,delta:[K,ae],movement:[le,ce]})=>{N&&l(!0);const ue=B(le,-S,S),de=B(ce,-z,z);r.current=Math.abs(le)>Math.abs(ue)?Math.sign(le-ue):0,a.current=Math.abs(ce)>Math.abs(de)?Math.sign(de-ce):0;let Ce=e[m],xe=e[y];W?(r.current||(Ce+=K*x*i.current,h({x:ue})),a.current||(xe-=E*ae*T*i.current,h({y:de})),r.current||a.current?G():I(),n({[m]:Ce,[y]:xe})):(l(!1),r.current=0,a.current=0,h({x:0,y:0}),I())});return s.createElement(Fo,k({ref:v},se()),c&&s.createElement($e,null,s.createElement(Bo,{ref:g,isOutOfBounds:u},s.createElement("div",null),s.createElement("span",{ref:p}))))}const Yo=b("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Ko(){const{label:e,displayValue:t,onUpdate:n,settings:o}=P();return s.createElement(j,{input:!0},s.createElement(V,null,e),s.createElement(Yo,{withJoystick:!!o.joystick},o.joystick&&s.createElement(Go,{value:t,settings:o,onUpdate:n}),s.createElement(ye,{value:t,settings:o,onUpdate:n})))}const Xo=["joystick"],yt=bt(["x","y"]),Jo=e=>{let{joystick:t=!0}=e,n=R(e,Xo);const{value:o,settings:r}=yt.normalize(n);return{value:o,settings:$($({},r),{},{joystick:t})}};var qo=$($({component:Ko},yt),{},{normalize:Jo});const Zo=e=>{if(e!==void 0){if(e instanceof File)try{return URL.createObjectURL(e)}catch{return}if(typeof e=="string"&&e.indexOf("blob:")===0)return e;throw Error("Invalid image format [undefined | blob | File].")}},Qo=(e,t)=>typeof t=="object"&&"image"in t,er=({image:e})=>({value:e});var tr=Object.freeze({__proto__:null,sanitize:Zo,schema:Qo,normalize:er});const nr=b("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),or=b("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),rr=b("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),ir=b("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),sr=b("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),ar=b("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function lr(){const{label:e,value:t,onUpdate:n,disabled:o}=P(),{popinRef:r,wrapperRef:a,shown:i,show:c,hide:l}=vt(),u=d.useCallback(g=>{g.length&&n(g[0])},[n]),f=d.useCallback(g=>{g.stopPropagation(),n(void 0)},[n]),{getRootProps:p,getInputProps:h,isDragAccept:v}=Lt({maxFiles:1,accept:"image/*",onDrop:u,disabled:o});return s.createElement(j,{input:!0},s.createElement(V,null,e),s.createElement(nr,null,s.createElement(rr,{ref:r,hasImage:!!t,onPointerDown:()=>!!t&&c(),onPointerUp:l,style:{backgroundImage:t?`url(${t})`:"none"}}),i&&!!t&&s.createElement($e,null,s.createElement(ct,{onPointerUp:l,style:{cursor:"pointer"}}),s.createElement(ir,{ref:a,style:{backgroundImage:`url(${t})`}})),s.createElement(or,p({isDragAccept:v}),s.createElement("input",h()),s.createElement(sr,null,v?"drop image":"click or drop")),s.createElement(ar,{onClick:f,disabled:!t})))}var cr=$({component:lr},tr);const Me=D().number(),ur=(e,t)=>D().array().length(2).every.number().test(e)&&D().schema({min:Me,max:Me}).test(t),re=e=>({min:e[0],max:e[1]}),wt=(e,{bounds:[t,n]},o)=>{const r=Array.isArray(e)?re(e):e,a={min:o[0],max:o[1]},{min:i,max:c}=$($({},a),r);return[B(Number(i),t,Math.max(t,c)),B(Number(c),Math.min(n,i),n)]},dr=({value:e,min:t,max:n})=>{const o={min:t,max:n},r=mt(re(e),{min:o,max:o}),a=[t,n],i=$($({},r),{},{bounds:a});return{value:wt(re(e),i,e),settings:i}};var fr=Object.freeze({__proto__:null,schema:ur,format:re,sanitize:wt,normalize:dr});const pr=["value","bounds","onDrag"],hr=["bounds"],gr=b("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function mr(e){let{value:t,bounds:[n,o],onDrag:r}=e,a=R(e,pr);const i=d.useRef(null),c=d.useRef(null),l=d.useRef(null),u=d.useRef(0),f=U("sizes","scrubberWidth"),p=Q(({event:g,first:m,xy:[y],movement:[w],memo:E={}})=>{if(m){const{width:T,left:_}=i.current.getBoundingClientRect();u.current=T-parseFloat(f);const C=(g==null?void 0:g.target)===c.current||(g==null?void 0:g.target)===l.current;E.pos=ne((y-_)/T,n,o);const S=Math.abs(E.pos-t.min)-Math.abs(E.pos-t.max);E.key=S<0||S===0&&E.pos<=t.min?"min":"max",C&&(E.pos=t[E.key])}const x=E.pos+ne(w/u.current,0,o-n);return r({[E.key]:Ln(x,a[E.key])}),E}),h=`calc(${te(t.min,n,o)} * (100% - ${f} - 8px) + 4px)`,v=`calc(${1-te(t.max,n,o)} * (100% - ${f} - 8px) + 4px)`;return s.createElement(pt,k({ref:i},p()),s.createElement(ft,null,s.createElement(ht,{style:{left:h,right:v}})),s.createElement(me,{position:"left",ref:c,style:{left:h}}),s.createElement(me,{position:"right",ref:l,style:{right:v}}))}function br(){const{label:e,displayValue:t,onUpdate:n,settings:o}=P(),r=R(o,hr);return s.createElement(s.Fragment,null,s.createElement(j,{input:!0},s.createElement(V,null,e),s.createElement(gr,null,s.createElement(mr,k({value:t},o,{onDrag:n})),s.createElement(ye,{value:t,settings:r,onUpdate:n,innerLabelTrim:0}))))}var vr=$({component:br},fr);const $r=()=>{const e=new Map;return{on:(t,n)=>{let o=e.get(t);o===void 0&&(o=new Set,e.set(t,o)),o.add(n)},off:(t,n)=>{const o=e.get(t);o!==void 0&&(o.delete(n),o.size===0&&e.delete(t))},emit:(t,...n)=>{const o=e.get(t);if(o!==void 0)for(const r of o)r(...n)}}},Er=["type","value"],yr=["onChange","transient","onEditStart","onEditEnd"],wr=function(){const t=Pt(It(()=>({data:{}}))),n=$r();this.storeId=Zt(),this.useStore=t;const o={},r=new Set;this.getVisiblePaths=()=>{const i=this.getData(),c=Object.keys(i),l=[];Object.entries(o).forEach(([f,p])=>{p.render&&c.some(h=>h.indexOf(f)===0)&&!p.render(this.get)&&l.push(f+".")});const u=[];return r.forEach(f=>{f in i&&i[f].__refCount>0&&l.every(p=>f.indexOf(p)===-1)&&(!i[f].render||i[f].render(this.get))&&u.push(f)}),u},this.setOrderedPaths=i=>{i.forEach(c=>r.add(c))},this.orderPaths=i=>(this.setOrderedPaths(i),i),this.disposePaths=i=>{t.setState(c=>{const l=c.data;return i.forEach(u=>{if(u in l){const f=l[u];f.__refCount--,f.__refCount===0&&f.type in A&&delete l[u]}}),{data:l}})},this.dispose=()=>{t.setState(()=>({data:{}}))},this.getFolderSettings=i=>o[i]||{},this.getData=()=>t.getState().data,this.addData=(i,c)=>{t.setState(l=>{const u=l.data;return Object.entries(i).forEach(([f,p])=>{let h=u[f];if(h){const{type:v,value:g}=p,m=R(p,Er);v!==h.type?L(O.INPUT_TYPE_OVERRIDE,v):((h.__refCount===0||c)&&Object.assign(h,m),h.__refCount++)}else u[f]=$($({},p),{},{__refCount:1})}),{data:u}})},this.setValueAtPath=(i,c,l)=>{t.setState(u=>{const f=u.data;return De(f[i],c,i,this,l),{data:f}})},this.setSettingsAtPath=(i,c)=>{t.setState(l=>{const u=l.data;return u[i].settings=$($({},u[i].settings),c),{data:u}})},this.disableInputAtPath=(i,c)=>{t.setState(l=>{const u=l.data;return u[i].disabled=c,{data:u}})},this.set=(i,c)=>{t.setState(l=>{const u=l.data;return Object.entries(i).forEach(([f,p])=>{try{De(u[f],p,void 0,void 0,c)}catch{}}),{data:u}})},this.getInput=i=>{try{return this.getData()[i]}catch{L(O.PATH_DOESNT_EXIST,i)}},this.get=i=>{var c;return(c=this.getInput(i))===null||c===void 0?void 0:c.value},this.emitOnEditStart=i=>{n.emit(`onEditStart:${i}`,this.get(i),i,$($({},this.getInput(i)),{},{get:this.get}))},this.emitOnEditEnd=i=>{n.emit(`onEditEnd:${i}`,this.get(i),i,$($({},this.getInput(i)),{},{get:this.get}))},this.subscribeToEditStart=(i,c)=>{const l=`onEditStart:${i}`;return n.on(l,c),()=>n.off(l,c)},this.subscribeToEditEnd=(i,c)=>{const l=`onEditEnd:${i}`;return n.on(l,c),()=>n.off(l,c)};const a=(i,c,l)=>{const u={};return Object.entries(i).forEach(([f,p])=>{if(f==="")return L(O.EMPTY_KEY);let h=we(c,f);if(p.type===A.FOLDER){const v=a(p.schema,h,l);Object.assign(u,v),h in o||(o[h]=p.settings)}else if(f in l)L(O.DUPLICATE_KEYS,f,h,l[f].path);else{const v=sn(p,f,h,u);if(v){const{type:g,options:m,input:y}=v,{onChange:w,transient:E,onEditStart:x,onEditEnd:T}=m,_=R(m,yr);u[h]=$($($({type:g},_),y),{},{fromPanel:!0}),l[f]={path:h,onChange:w,transient:E,onEditStart:x,onEditEnd:T}}else L(O.UNKNOWN_INPUT,h,p)}}),u};this.getDataFromSchema=i=>{const c={};return[a(i,"",c),c]}};new wr;const Ve=e=>"__levaInput"in e,Cr=(e,t)=>{const n={},o=t?t.toLowerCase():null;return e.forEach(r=>{const[a,i]=To(r);(!o||a.toLowerCase().indexOf(o)>-1)&&Ut(n,i,{[a]:{__levaInput:!0,path:r}})}),n},xr=["type","label","path","valueKey","value","settings","setValue","disabled"];function Rr(e){let{type:t,label:n,path:o,valueKey:r,value:a,settings:i,setValue:c,disabled:l}=e,u=R(e,xr);const{displayValue:f,onChange:p,onUpdate:h}=ut({type:t,value:a,settings:i,setValue:c}),v=Y[t].component;return v?s.createElement(et.Provider,{value:$({key:r,path:o,id:""+o,label:n,displayValue:f,value:a,onChange:p,onUpdate:h,settings:i,setValue:c,disabled:l},u)},s.createElement(xn,{disabled:l},s.createElement(v,null))):(L(O.NO_COMPONENT_FOR_TYPE,t,o),null)}const Sr=b("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function Or({onClick:e,settings:t,label:n}){const o=Z();return s.createElement(j,null,s.createElement(Sr,{disabled:t.disabled,onClick:()=>e(o.get)},n))}const Tr=b("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),kr=b("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),_r=({label:e,opts:t})=>{let n=typeof e=="string"&&e.trim()===""?null:e,o=t;return typeof t.opts=="object"&&(o.label!==void 0&&(n=t.label),o=t.opts),{label:n,opts:o}};function Pr(e){const{label:t,opts:n}=_r(e),o=Z();return s.createElement(j,{input:!!t},t&&s.createElement(V,null,t),s.createElement(Tr,null,Object.entries(n).map(([r,a])=>s.createElement(kr,{key:r,onClick:()=>a(o.get)},r))))}const Ir=b("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),Ct=100;function zr(e,t){e.push(t),e.length>Ct&&e.shift()}const Nr=d.forwardRef(function({initialValue:e},t){const n=U("colors","highlight3"),o=U("colors","elevation2"),r=U("colors","highlight1"),[a,i]=d.useMemo(()=>[X(r).alpha(.4).toRgbString(),X(r).alpha(.1).toRgbString()],[r]),c=d.useRef([e]),l=d.useRef(e),u=d.useRef(e),f=d.useRef(),p=d.useCallback((g,m)=>{if(!g)return;const{width:y,height:w}=g,E=new Path2D,x=y/Ct,T=w*.05;for(let S=0;S<c.current.length;S++){const z=te(c.current[S],l.current,u.current),G=x*S,I=w-z*(w-T*2)-T;E.lineTo(G,I)}m.clearRect(0,0,y,w);const _=new Path2D(E);_.lineTo(x*(c.current.length+1),w),_.lineTo(0,w),_.lineTo(0,0);const C=m.createLinearGradient(0,0,0,w);C.addColorStop(0,a),C.addColorStop(1,i),m.fillStyle=C,m.fill(_),m.strokeStyle=o,m.lineJoin="round",m.lineWidth=14,m.stroke(E),m.strokeStyle=n,m.lineWidth=2,m.stroke(E)},[n,o,a,i]),[h,v]=zn(p);return d.useImperativeHandle(t,()=>({frame:g=>{(l.current===void 0||g<l.current)&&(l.current=g),(u.current===void 0||g>u.current)&&(u.current=g),zr(c.current,g),f.current=requestAnimationFrame(()=>p(h.current,v.current))}}),[h,v,p]),d.useEffect(()=>()=>cancelAnimationFrame(f.current),[]),s.createElement(Ir,{ref:h})}),Ae=e=>Number.isFinite(e)?e.toPrecision(2):e.toString(),Dr=d.forwardRef(function({initialValue:e},t){const[n,o]=d.useState(Ae(e));return d.useImperativeHandle(t,()=>({frame:r=>o(Ae(r))}),[]),s.createElement("div",null,n)});function Le(e){return typeof e=="function"?e():e.current}function jr({label:e,objectOrFn:t,settings:n}){const o=d.useRef(),r=d.useRef(Le(t));return d.useEffect(()=>{const a=window.setInterval(()=>{var i;document.hidden||(i=o.current)===null||i===void 0||i.frame(Le(t))},n.interval);return()=>window.clearInterval(a)},[t,n.interval]),s.createElement(j,{input:!0},s.createElement(V,{align:"top"},e),n.graph?s.createElement(Nr,{ref:o,initialValue:r.current}):s.createElement(Dr,{ref:o,initialValue:r.current}))}const Mr=["type","label","key"],Vr={[A.BUTTON]:Or,[A.BUTTON_GROUP]:Pr,[A.MONITOR]:jr},Ar=s.memo(({path:e})=>{const[t,{set:n,setSettings:o,disable:r,storeId:a,emitOnEditStart:i,emitOnEditEnd:c}]=Dn(e);if(!t)return null;const{type:l,label:u,key:f}=t,p=R(t,Mr);if(l in A){const h=Vr[l];return s.createElement(h,k({label:u,path:e},p))}return l in Y?s.createElement(Rr,k({key:a+e,type:l,label:u,storeId:a,path:e,valueKey:f,setValue:n,setSettings:o,disable:r,emitOnEditStart:i,emitOnEditEnd:c},p)):(Ft(O.UNSUPPORTED_INPUT,l,e),null)});function Lr({toggle:e,toggled:t,name:n}){return s.createElement(yn,{onClick:()=>e()},s.createElement(Ee,{toggled:t}),s.createElement("div",null,n))}const Ur=({name:e,path:t,tree:n})=>{const o=Z(),r=we(t,e),{collapsed:a,color:i}=o.getFolderSettings(r),[c,l]=d.useState(!a),u=d.useRef(null),f=U("colors","folderWidgetColor"),p=U("colors","folderTextColor");return d.useLayoutEffect(()=>{u.current.style.setProperty("--leva-colors-folderWidgetColor",i||f),u.current.style.setProperty("--leva-colors-folderTextColor",i||p)},[i,f,p]),s.createElement(oe,{ref:u},s.createElement(Lr,{name:e,toggled:c,toggle:()=>l(h=>!h)}),s.createElement(xt,{parent:r,tree:n,toggled:c}))},xt=s.memo(({isRoot:e=!1,fill:t=!1,flat:n=!1,parent:o,tree:r,toggled:a})=>{const{wrapperRef:i,contentRef:c}=ko(a),l=Z(),u=([p,h])=>{var v;return(Ve(h)?(v=l.getInput(h.path))===null||v===void 0?void 0:v.order:l.getFolderSettings(we(o,p)).order)||0},f=Object.entries(r).sort((p,h)=>u(p)-u(h));return s.createElement(he,{ref:i,isRoot:e,fill:t,flat:n},s.createElement(st,{ref:c,isRoot:e,toggled:a},f.map(([p,h])=>Ve(h)?s.createElement(Ar,{key:h.path,valueKey:h.valueKey,path:h.path}):s.createElement(Ur,{key:p,name:p,path:o,tree:h}))))}),Hr=b("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${lt}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),Rt=40,ie=b("i",{$flexCenter:"",width:Rt,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Wr=b("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Fr=b("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${ie}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),Br=b("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Gr=b("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:Rt}}}}),Yr=s.forwardRef(({setFilter:e,toggle:t},n)=>{const[o,r]=d.useState(""),a=d.useMemo(()=>Ke(e,250),[e]),i=()=>{e(""),r("")},c=l=>{const u=l.currentTarget.value;t(!0),r(u)};return d.useEffect(()=>{a(o)},[o,a]),s.createElement(s.Fragment,null,s.createElement(Br,{ref:n,value:o,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:c}),s.createElement(ie,{onClick:()=>i(),style:{visibility:o?"visible":"hidden"}},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Kr({setFilter:e,onDrag:t,onDragStart:n,onDragEnd:o,toggle:r,toggled:a,title:i,drag:c,filterEnabled:l,from:u}){const[f,p]=d.useState(!1),h=d.useRef(null);d.useEffect(()=>{var g,m;f?(g=h.current)===null||g===void 0||g.focus():(m=h.current)===null||m===void 0||m.blur()},[f]);const v=Q(({offset:[g,m],first:y,last:w})=>{t({x:g,y:m}),y&&n({x:g,y:m}),w&&o({x:g,y:m})},{filterTaps:!0,from:({offset:[g,m]})=>[(u==null?void 0:u.x)||g,(u==null?void 0:u.y)||m]});return d.useEffect(()=>{const g=m=>{m.key==="L"&&m.shiftKey&&m.metaKey&&p(y=>!y)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]),s.createElement(s.Fragment,null,s.createElement(Wr,{mode:c?"drag":void 0},s.createElement(ie,{active:!a,onClick:()=>r()},s.createElement(Ee,{toggled:a,width:12,height:8})),s.createElement(Gr,k({},c?v():{},{drag:c,filterEnabled:l}),i===void 0&&c?s.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},s.createElement("circle",{cx:"2",cy:"2",r:"2"}),s.createElement("circle",{cx:"14",cy:"2",r:"2"}),s.createElement("circle",{cx:"26",cy:"2",r:"2"}),s.createElement("circle",{cx:"2",cy:"12",r:"2"}),s.createElement("circle",{cx:"14",cy:"12",r:"2"}),s.createElement("circle",{cx:"26",cy:"12",r:"2"})):i),l&&s.createElement(ie,{active:f,onClick:()=>p(g=>!g)},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},s.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),s.createElement(Fr,{toggled:f},s.createElement(Yr,{ref:h,setFilter:e,toggle:r})))}s.memo(({store:e,rootClass:t,fill:n=!1,flat:o=!1,neverHide:r=!1,oneLineLabels:a=!1,titleBar:i={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:c=!1,toggled:l,setToggle:u})=>{var f,p;const h=_o(e),[v,g]=d.useState(""),m=d.useMemo(()=>Cr(h,v),[h,v]),[y,w]=dt(),E=r||h.length>0,x=typeof i=="object"&&i.title||void 0,T=typeof i=="object"&&(f=i.drag)!==null&&f!==void 0?f:!0,_=typeof i=="object"&&(p=i.filter)!==null&&p!==void 0?p:!0,C=typeof i=="object"&&i.position||void 0,S=typeof i=="object"&&i.onDrag||void 0,z=typeof i=="object"&&i.onDragStart||void 0,G=typeof i=="object"&&i.onDragEnd||void 0;return s.useEffect(()=>{w({x:C==null?void 0:C.x,y:C==null?void 0:C.y})},[C,w]),gn(),s.createElement(ot.Provider,{value:{hideCopyButton:c}},s.createElement(Hr,{ref:y,className:t,fill:n,flat:o,oneLineLabels:a,hideTitleBar:!i,style:{display:E?"block":"none"}},i&&s.createElement(Kr,{onDrag:I=>{w(I),S==null||S(I)},onDragStart:I=>z==null?void 0:z(I),onDragEnd:I=>G==null?void 0:G(I),setFilter:g,toggle:I=>u(se=>I??!se),toggled:l,title:x,drag:T,filterEnabled:_,from:C}),E&&s.createElement(nt.Provider,{value:e},s.createElement(xt,{isRoot:!0,fill:n,flat:o,tree:m,toggled:l}))))});H(M.SELECT,Zn);H(M.IMAGE,cr);H(M.NUMBER,Hn);H(M.COLOR,Uo);H(M.STRING,ao);H(M.BOOLEAN,go);H(M.INTERVAL,vr);H(M.VECTOR3D,Wo);H(M.VECTOR2D,qo);
//# sourceMappingURL=leva-f8bf76cc.js.map
